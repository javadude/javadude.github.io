
<!DOCTYPE html>
<html
  lang="en"
  data-figures=""
  
    class="page"
  
  
  >
  <head>
<title>ANTXR | javadude.com</title>
<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">





<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="Easy XML Parsing, based on the ANTLR parser generator" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="">
<meta name="twitter:title" content="ANTXR" />
<meta name="twitter:image" content="https://www.javadude.com/post/20051102-antxr/antlr.svg"/>
<meta property="og:url" content="https://www.javadude.com/post/20051102-antxr/" />
<meta property="og:title" content="ANTXR" />
<meta property="og:description" content="Easy XML Parsing, based on the ANTLR parser generator" />
<meta property="og:image" content="https://www.javadude.com/post/20051102-antxr/antlr.svg" />
  <meta name="keywords" content="java" />
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage":"https:\/\/www.javadude.com\/post\/20051102-antxr\/",
      "name": "javadude.com",
      "headline": "ANTXR",
      "description": "Easy XML Parsing, based on the ANTLR parser generator",
      "url": "https:\/\/www.javadude.com\/post\/20051102-antxr\/",
      "datePublished": "2005-11-02T00:00:00Z",
      "dateModified": "2005-11-02T00:00:00Z",
      "keywords": ["java"],
        "articleSection": ["Tools"],
      "author": {
        "@type": "Person",
        "name": "map[name:Scott Stanchfield photo:images\/yellow.jpeg]"
      },
      "image":{
        "@type":"ImageObject",
        "url": "https:\/\/www.javadude.com\/post\/20051102-antxr\/antlr.svg"
      },
      "publisher": {
        "@type": "Organization",
        "logo": {
          "@type":"ImageObject",
          "url": "https:\/\/www.javadude.com\/"
        },
        "name": "javadude.com"
      }
    }
  </script>

<link rel="apple-touch-icon" sizes="180x180" href="https://www.javadude.com/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.javadude.com/icons/favicon-32x32.png">
<link rel="manifest" href="https://www.javadude.com/icons/site.webmanifest">

<link rel="canonical" href="https://www.javadude.com/post/20051102-antxr/">



<link rel="preload" href="https://www.javadude.com/css/styles.bc1eb1dd1fc5d14285e0b88a05fef346a89bc5e461c683e5fc57576c7455fe75831ec8ecacec5edfb95ff21decee7759160e705bc419e8e864dcf581963a4140.css" integrity = "sha512-vB6x3R/F0UKF4LiKBf7zRqibxeRhxoPl/FdXbHRV/nWDHsjsrOxe37lf8h3s7ndZFg5wW8QZ6Ohk3PWBljpBQA==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://www.javadude.com/en/js/bundle.91a9d0f0da58c5acdd5ce35d3bad54e076ed9e5bd70e8601c2d68ec9430e043db3691652dfc22e2cbf23188abd51a3c15dd3c3bdaba83991e7c37b71b127c01d.js" as="script" integrity=
"sha512-kanQ8NpYxazdXONdO61U4HbtnlvXDoYBwtaOyUMOBD2zaRZS38IuLL8jGIq9UaPBXdPDvauoOZHnw3txsSfAHQ==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://www.javadude.com/css/styles.bc1eb1dd1fc5d14285e0b88a05fef346a89bc5e461c683e5fc57576c7455fe75831ec8ecacec5edfb95ff21decee7759160e705bc419e8e864dcf581963a4140.css" integrity="sha512-vB6x3R/F0UKF4LiKBf7zRqibxeRhxoPl/FdXbHRV/nWDHsjsrOxe37lf8h3s7ndZFg5wW8QZ6Ohk3PWBljpBQA==" crossorigin="anonymous">

  </head>
  <body
    data-code="10000"
    data-lines="true"
    id="documentTop"
    data-lang="en"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://www.javadude.com/' class="nav_brand nav_item" title="javadude.com">javadude.com
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://www.javadude.com/" class="nav_item" title="Home">Home </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/class" class="nav_item" title="Classes">Classes </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/articles" class="nav_item" title="Articles">Articles </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/videos" class="nav_item" title="Videos">Videos </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/tools" class="nav_item" title="Tools">Tools </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/publications/" class="nav_item" title="Publications">Publications </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/about/" class="nav_item" title="About">About </a>
  </div>
      
<div class='follow'>
  <a href="https://github.com/javadude">
    <svg class="icon">
  <title>github</title>
  <use xlink:href="#github"></use>
</svg>

  </a>
  <a href="https://gitlab.com/javamage">
    <svg class="icon">
  <title>gitlab</title>
  <use xlink:href="#gitlab"></use>
</svg>

  </a>
  <a href="https://www.youtube.com/scottstanchfield">
    <svg class="icon">
  <title>youtube</title>
  <use xlink:href="#youtube"></use>
</svg>

  </a>
  <a href="https://stackoverflow.com/users/12541/scott-stanchfield">
    <svg class="icon">
  <title>stackoverflow</title>
  <use xlink:href="#stackoverflow"></use>
</svg>

  </a>
  <a href="https://www.facebook.com/scott.stanchfield">
    <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

  </a>
    
  <a href="https://www.javadude.com/index.xml">
    <svg class="icon">
  <title>rss</title>
  <use xlink:href="#rss"></use>
</svg>

  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">ANTXR</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      Nov 2, 2005	  
    </span>
    <span class="post_time"> · 28 min read</span><span>&nbsp;· <a href='https://www.javadude.com/tags/java/' title="java" class="post_tag button button_translucent">java
        </a>
    </span>
    <span class="page_only">&nbsp;·
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=ANTXR&url=https%3a%2f%2fwww.javadude.com%2fpost%2f20051102-antxr%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.javadude.com%2fpost%2f20051102-antxr%2f&t=ANTXR" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

    </a>
    <a href="https://www.javadude.com/post/20051102-antxr/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <title>copy</title>
  <use xlink:href="#copy"></use>
</svg>

    </a>
  </div>
  </span>
  </div>

    <div class="post_body"><p>ANTXR: Easy XML Parsing, based on the ANTLR parser generator</p>
<p>NOTE: I haven't updated this tool in many years... I'm keeping it here for historical purposes, and someday might play around with it again... It was very useful in some projects at a previous job...</p>
<h1 id="antxr--another-tool-for-xml-recognition">ANTXR = ANother Tool for Xml Recognition</h1>
<p>Pronounce it &quot;Ant-zer&quot;...</p>
<p>The name is a slight modification to ANTLR (ANother Tool for Language Recognition), because ANTXR is based heavily on ANTLR.</p>
<h1 id="source-code">Source Code</h1>
<p>The source code is available at <a href="https://github.com/javadude/javadude">https://github.com/javadude/javadude</a></p>
<p>Look for sub-directories
*	com.javadude.antxr.eclipse.core
*	com.javadude.antxr.eclipse.ui
*	com.javadude.antxr.eclipse.feature
*	com.javadude.antxr</p>
<p>I haven't built this tool in <em>quite</em> a while, so I'm not sure how likely it is to build...</p>
<h1 id="license">License</h1>
<p>ANTXR is distributed under the <a href="http://eclipse.org/legal/epl-v10.html">Eclipse Public License (EPL)</a>. You can read about the concepts in plain English at <a href="http://www.eclipse.org/legal/eplfaq.php">Eclipse Public License (EPL) Frequently Asked Questions</a>. This is the same license that Eclipse is currently distributed under, and you can basically use the tool for whatever purpose you would like, commercial or non-commercial, without license fee.</p>
<h1 id="download">Download</h1>
<p>There are three main download types:</p>
<ul>
<li><strong>Eclipse</strong>: (UPDATE SITE NO LONGER EXISTS)
 </li>
<li><strong>Non-eclipse</strong>: The basic ANTXR distribution can be obtained via <a href="/post/20051102-antxr/antxr.zip">antxr.zip</a>.
<ul>
<li>Use the build.xml under ant-build to build antxr.</li>
<li>To use in your own ant scripts, look at the antxr macro defined in this build.xml.<br>
 </li>
</ul>
</li>
<li><strong>Samples</strong>: <a href="/post/20051102-antxr/antxr-samples.zip">antxr-samples.zip</a></li>
</ul>
<p>If you're interested in why ANTXR exists and how it got to where it is, read on. If you're only interested in some examples and how you write an ANTXR parser, feel free to jump to <a href="/post/20051102-antxr/#Writing_Your_XML_Parser">Writing Your XML Parser</a>.</p>
<h1 id="acknowledgements">Acknowledgements</h1>
<p>ANTXR is based on the public domain ANTLR Parser Generator by Terence Parr. See <a href="http://antlr.org">http://antlr.org</a> for details on ANTLR. Many thanks to Terence Parr and all of the other ANTLR contributors (including me ;) for their work on ANTLR that has allowed me to create ANTXR.</p>
<p>The ANTXR Eclipse plugin is based on the ANTLR-Eclipse plugin at <a href="http://antlreclipse.sourceforge.net">http://antlreclipse.sourceforge.net</a> by Torsten Juergeleit. Many thanks to Torsten and the others who have contributed to the plugin.</p>
<h1 id="contents">Contents</h1>
<ul>
<li><a href="/post/20051102-antxr/#History">History</a>
<ul>
<li><a href="/post/20051102-antxr/#Introduction_and_motivation">Introduction and motivation</a>
<ul>
<li><a href="/post/20051102-antxr/#DOM">DOM</a></li>
<li><a href="/post/20051102-antxr/#SAX">SAX</a></li>
<li><a href="/post/20051102-antxr/#Digester">Digester</a></li>
<li><a href="/post/20051102-antxr/#Keeping_in_synch_with_the_XML_schema">Keeping in synch with the XML schema</a></li>
</ul>
</li>
<li><a href="/post/20051102-antxr/#Enter_ANTLR_XML_Parsing">Enter ANTLR-Based XML Parsing</a></li>
<li><a href="/post/20051102-antxr/#We_Have_ANTLR_Native_XML_Support">Poof! We Have ANTLR Native XML Support!</a></li>
<li><a href="/post/20051102-antxr/#Hacking_ANTLR_into_submission">Hacking ANTLR into submission</a></li>
<li><a href="/post/20051102-antxr/#Forking_from_ANTLR">Forking from ANTLR</a></li>
</ul>
</li>
<li><a href="/post/20051102-antxr/#Writing_Your_XML_Parser">Writing Your XML Parser</a>
<ul>
<li><a href="/post/20051102-antxr/#Scanning_XML">Scanning_XML</a></li>
<li><a href="/post/20051102-antxr/#A_skeletal_XML_grammar">A skeletal XML grammar</a></li>
<li><a href="/post/20051102-antxr/#The_Ground_Rules">The Ground Rules</a></li>
<li><a href="/post/20051102-antxr/#A_Simple_XML_Parser">A Simple XML Parser</a></li>
<li><a href="/post/20051102-antxr/#A_More_Complex_Parser">A More Complex Parser</a></li>
<li><a href="/post/20051102-antxr/#AnyTags">Any Tags</a></li>
</ul>
</li>
<li><a href="/post/20051102-antxr/#Performance">Performance</a></li>
<li><a href="/post/20051102-antxr/#Future">Future</a></li>
</ul>
<h1 id="History">History</h1>
<p>XML Parsing can be quite a pain the butt.</p>
<p>Current XML parsing mechanisms have several problems, from lack of context information, to using too much memory, to requiring unwieldy if-then-else constructs or difficult to maintain reflective modeling.</p>
<p>Representing your XML parsing rules as an ANTXR grammar can solve many of these problems, producing an effective, maintainable XML parser.</p>
<h1 id="Introduction_and_motivation">Introduction and motivation</h1>
<p><em>Note: What follows is a bunch of history, motivation, and implementation strategies. If you simply want to jump in and write an XML parser of your own, jump down to <a href="/post/20051102-antxr/#Writing_Your_XML_Parser">Writing Your XML Parser</a>.</em></p>
<p>There are several common mechanisms for XML parsing. Let's concentrate on the &quot;big two&quot;: SAX and DOM. And let's not treat them too nicely. They're nasty to use...</p>
<h2 id="DOM">DOM</h2>
<p>A DOM parser rips through an XML instance document and creates a lovely little tree of evil DOM nodes. The larger your instance document, the more memory this takes, so it doesn't scale well at all. (Damn... I used a buzzword... sorry!)</p>
<p>Anyway, <em><strong>memory is a huge issue here</strong></em>, and is the main reason that people report for not using DOM. But there is another significant issue: <strong><em>You can accidentally ignore a subtree</em></strong>. Think about this. You make a change to your XML schema, and change part of your DOM tree walking parser, but forget to add in exploration for part of it. Everything proceeds without a clue that you forgot that part. This can cause errors that are pretty tricky to diagnose.</p>
<p>And don't get me started on the DOM API. Blech! Unfortunately, the DOM API that we all use has been handed down from generation to generation from someone (Al Gore claims it was he), who was either intoxicated or stoned while working on browser HTML parsing.</p>
<h2 id="SAX">SAX</h2>
<p>A nice little event-based mechanism that tells you when it sees tags and content. It does the dirty work of validation and scanning for you, but you're left to pick up the pieces as it throws you notifications. You write a handler with a single method that receives notification for any start tag. <strong><em>If you want to know the context in which a tag appears, it's up to you to track it</em></strong>. While it's pretty memory-efficient by itself, you still need to track extra information to know to which object <code>&lt;name&gt;</code> belongs.</p>
<p>And then comes the handler...</p>
<pre><code>public void startElement(String uri, String localName, 
		String qName, Attributes attributes) throws SAXException {
	if (&quot;tagA&quot;.equals(localName)) {...}
	else if (&quot;tagB&quot;.equals(localName)) {...}
	else if (&quot;tagC&quot;.equals(localName)) {...}
	else if (&quot;tagD&quot;.equals(localName)) {...}
	else if (&quot;tagE&quot;.equals(localName)) {...}
	...
	else {/* error */}
}
</code></pre>
<p>Jinkies! This is an accident just waiting to happen. It's nearly impossible to &quot;see&quot; the XML structure in there. And if you don't add the &quot;anything else is an error&quot; block in there, you fall into one of the same problems as DOM: you can easily forget to handle a tag.</p>
<p>A variation on this handler can use reflection to call other methods or plug-in tag handlers. I'll give this an &quot;A&quot; for effort, but after maintaining a few parsers like these, my head explodes at the thought.</p>
<h2 id="Digester">Digester</h2>
<p>When I first saw Jakarta Digester, I was pretty impressed. Very cool little XML handler. It solves a lot of problems, including context. I was in love. But I like to think in terms of a stack when it's appropriate...</p>
<p>I quickly saw confusion on the faces on others when faced with a digester rule-set. While I eat and breath stacks (I'm a compiler guy at heart), this is not the case with everyone, and digester can be incredibly confusing for many to grok. But it's a step in the right direction:</p>
<ol>
<li>Declaratively specify how to process the XML. Almost like showing what the XML &quot;looks like&quot;.</li>
<li>Define what to do when you match certain patterns, including context.</li>
<li>Keep track of the context appropriately.</li>
</ol>
<p>But I think its implementation causes more confusion to new users than it's worth, and it can require a bit of work to add in those &quot;special cases&quot; that we all find lurking in our wonderful XML documents.</p>
<h2 id="Keeping_in_synch_with_the_XML_schema">Keeping in synch with the XML schema</h2>
<p>And here's the biggest problem, and it applies to every XML parsing technique that's commonly used. It's often very difficult to update your parser when the XML schema changes. Think about what the code looks like in a SAX, DOM, or Digester based parser. It looks <strong><em>nothing</em></strong> like the XML schema. If we could represent our parser in a form that's parallel to our schema, life would be much simpler when it comes to updating a parser to match a schema change.</p>
<h1 id="Enter_ANTLR_XML_Parsing">Enter ANTLR-Based XML Parsing</h1>
<p>I've been thinking about parsing XML with ANTLR for quite some time, and when some folks at my then employer, FGM, Inc, were planning an XML import refactoring, I suggested that we take a look at ANTLR.</p>
<p>For starters, I looked at <a href="http://xpa.sourceforge.net/">XPA</a>, which is some pretty nice XML parser support for ANTLR. This came pretty darn close to what I envisioned as an ideal XML parser, with a few exceptions:</p>
<ul>
<li><strong>It requires somewhat verbose specification</strong>. You need to specify the start and end tags explicitly, making it easy to &quot;typo&quot; the matching end tag. You also had to jump through a few hoops and casts to access the attributes for a tag.</li>
<li><strong>It has no support for namespaces.</strong> This is not an issue if you're not using namespaces, but if you do use namespaces, it's a non-starter.</li>
</ul>
<p>As a simple example of a grammar in XPA, I could write</p>
<pre><code>// XPA example grammar rules
note {String to, from, subject, body;}
	:  noteStart:&quot;&lt;note&gt;&quot;
		{
			Attributes attributes =
				((XMLStartToken) noteStart).getAttributes();
			to = attributes.getValue(&quot;to&quot;);
			from = attributes.getValue(&quot;from&quot;);
		}
		subject=subjectTag
		body=bodyTag
		&quot;&lt;/note&gt;&quot;
		{
			// you can do whatever you want here with
			//    to, from, subject and body
		}
;  

subjectTag returns [String subject=null]
	:	&quot;&lt;subject&gt;&quot;
		value:PCDATA  {subject=value.getText();}
		&quot;&lt;/subject&gt;&quot;
	;

bodyTag returns [String body=null]
	:	&quot;&lt;body&gt;&quot;
		value:PCDATA  {body=value.getText();}
		&quot;&lt;/body&gt;&quot;
	;
</code></pre>
<p>The first thing to notice here is that <em>we have context</em>. Rules are called from each other, and parameters can be passed and/or values returned. We could even have separate rules for &quot;<subject>&quot; that are referenced from other rules. For example, we could define a bookSubject and noteSubject, both of which reference the &quot;<subject>&quot; tag, but can have different actions. Or we could pass a parameter to the subjectTag rule that lets it know who is including it. We'll see some examples of this later.</p>
<p>The above parser requires explicit specification of the start and end tags, and a slightly awkward attribute access mechanism.</p>
<p>I wanted to make things easier for my coworkers, so I downloaded the latest ANTLR source and started hacking...</p>
<h1 id="We_Have_ANTLR_Native_XML_Support">Poof! We Have ANTLR Native XML Support!</h1>
<p>The first thing I wanted was easy optional validation. It must be fast, and robust. It seemed to me that using an existing SAX parser was the best solution for this, as they're being pounded on by thousands of developers, so they'd be pretty robust, and they're pretty quick (some more so than others).</p>
<p>So we start with a SAX front-end. You choose the one you want to use and configure it turn on validation, namespace support, whatever.</p>
<p>Next comes XMLTokenStream, a new class in the ANTLR distribution that acts as a hander for a SAX parser, and a source for an ANTLR parser. Because SAX is a &quot;push&quot; API, and ANTLR is a &quot;pull&quot; API, we need to form a &quot;meet-in-the-middle&quot; strategy. XMLTokenStream does this by supplying a blocking queue. SAX parses the XML, notifying a handler in the XMLTokenStream, and the handler creates ANTLR tokens, enqueueing them on the blocking queue. XMLTokenStream provides a nextToken() method that your ANTLR parser will call to retrieve tokens. This nextToken() method dequeues a token from the blocking queue (waiting if there isn't one available), and returns it to the ANTLR parser. <em><strong>Figure 1</strong></em> shows this processing.</p>
<p>
  <figure>
  <picture>

    
      
        
        
        
        
        
        
    <img
      loading="lazy"
      decoding="async"
      alt="xml parsing"
      
        class="image_figure image_internal image_processed"
        width="488"
        height="186"
        src="https://www.javadude.com/post/20051102-antxr/xml-parsing.gif"
      
      
    />

    </picture>
</figure>
</p>
<p>You can also pass a DTDHandler or EntityResolver to the XMLTokenStream, if needed, and its default handler will delegate to them.</p>
<p>At this point, we have support for validation (or not), tokenization based on the SAX parse, and feeding those tokens to a hungry ANTLR parser.</p>
<p>But what do those tokens look like?</p>
<p><strong>Start Tokens</strong></p>
<p>Each time the SAX parser notifies XMLTokenStream that it has seen a start tag, a new XMLToken is created with a type matching the tag name. (This type is defined by your parser.)</p>
<p><strong>End Tokens</strong></p>
<p>Assuming that we <em>can</em> validate, at least to ensure well-formed-ness, we only need a single type of end token. We call this type of token XML_END_TAG. Anytime the SAX parser notifies XMLTokenStream that an end tag has been seen, a new CommonToken is created of type <strong>XML_END_TAG</strong>.</p>
<p><strong>Character Data</strong></p>
<p>Character data is collected and returned as a CommonToken of type <strong>PCDATA</strong>.</p>
<p>XMLToken is an extension of ANTLR's CommonToken, providing access to a tag's attribute data. The SAX attributes object is placed into this token for easy access.</p>
<p><em><strong>Call me a dunce...</strong><br>
At this point I should note that silly me didn't look at the source for XPA... I wanted to do a &quot;clean room&quot; implementation. After looking at the XPA code while writing this document, It turns out that XPA handles its processing <strong>in almost exactly the same manner as I did</strong>. It's <strong>really</strong> spooky how similar the code I wrote for the XMLTokenStream and the blocking queue is to the XPA source code. However, looking back on this, though I effectively wasted a day working on it, it helps validate that this approach is good, as two separate (and brilliant, mind you ;) ) developers came up with the same approach for parsing. My XMLTokenStream is a bit more flexible, in that you can pass your own SAX handler instance to it, allowing you to configure it for whatever validation you would like.</em></p>
<h2 id="Hacking_ANTLR_into_submission">Hacking ANTLR into submission</h2>
<p>Next I started modifying ANTLR. I wanted to make XML processing easier. To me, this meant two things:</p>
<ol>
<li>Don't require the grammar writer to have to type in the start and end tags.</li>
<li>Make attribute access easy in action code.</li>
</ol>
<p>I wanted to be able to write something like the following:</p>
<pre><code>&lt;note&gt;
	{ String subject, body; }
	:	subject=&lt;subject&gt;
		body=&lt;body&gt;
		{doSomethingWith(@to, @from, subject, body);}
	;  
</code></pre>
<p>I quickly found out this wouldn't be possible unless I made a separate ANTLR tool for parsing XML; &quot;&lt;&quot; and &quot;&gt;&quot; are used for specifying element options (like which AST node to generate), which made the above cause grammar conflicts. So, I tried something a bit different:</p>
<pre><code>noteTag options {xmlTag=&quot;note&quot;;}
	:	{ String subject, body; }
		subject=subjectTag
		body=bodyTag
		{doSomethingWith(@to, @from, subject, body);}
	;  
</code></pre>
<p><em>Almost</em> the same, but a slightly different approach. Now rule references are normal by ANTLR standards, but we've simply added two things:</p>
<ol>
<li>The xmlTag option, which specifies that a rule represents an XML tag, and what the name of that tag is.</li>
<li>The @name specification for Java action code, which is translated into the appropriate verbose nonsense to retrieve an attribute from the tag.</li>
</ol>
<p>But where are the tag token references in the above? This was the most interesting part of this ANTLR modification. If you specified xmlTag as an option, <em>ANTLR would generate &quot;ghost&quot; tokens for the start and end tags.</em> The above rule is really the same as:</p>
<pre><code>noteTag
	:	start:&quot;&lt;note&gt;&quot;
		(	// extra paren in case there were some alternatives...
			{ String subject, body, to=/*code to get &quot;to&quot;*/, from=/*code to get &quot;from&quot; */; }
			subject=subjectTag
			body=bodyTag
			{doSomethingWith(to, from, subject, body);}
		) // extra paren in case there were some alternatives...
		XML_END_TAG
	;  
</code></pre>
<p>These &quot;ghost tokens&quot; make the grammar specification much simpler, and the @name attribute references can hold off carpal tunnel syndrome for at least a few more hours...</p>
<p>The next trick was to allow easy namespace usage. I wanted to be able to use</p>
<pre><code>xmlTag=&quot;foo:someTag&quot;
@foo:someAttribute
</code></pre>
<p>in the grammar, where &quot;foo&quot; could be a grammar-writer-defined prefix for some namespace, and map that reference to the real namespace used in the XML. This would allow different XML document instances to use different prefixes. To do this, I added an xmlNamespaceMapping option, which can be specified at the grammar level, mapping a prefix to a namespace URI:</p>
<pre><code>class NoteParser extends Parser;
	options {
		xmlMode=true;
		xmlNamespaceMapping=&quot;$DEFAULT=http://www.w3schools.com&quot;;
		xmlNamespaceMapping=&quot;xsi=http://www.w3.org/2001/XMLSchema-instance&quot;;
	}
</code></pre>
<p>The &quot;xmlMode&quot; option simply sets up a few imports and a place to hold namespace mappings. The xmlNamespaceMapping option defines a prefix-&gt;URI mapping. Note that I used &quot;$DEFAULT&quot; to represent the default namespace. I did this because</p>
<pre><code>xmlNamespaceMapping=&quot;=http://www.w3schools.com&quot;;
</code></pre>
<p>looked more like an error than an intentional default namespace specification. If you don't like this, ANTLR is open-source, so feel free to change it....</p>
<p>With these few constructs added to ANTLR, my fellow FGMers started to write a parser. I gave them very little overview. Instead, I gave them a simple sample parser and my ANTLR tutorial (they were both new to ANTLR). They asked a few questions, but after a few days they were very comfortable with writing XML grammars in ANTLR. This gave me the warm fuzzies that I achieved my goals...</p>
<h1 id="Forking_from_ANTLR">Forking from ANTLR</h1>
<p>While the above parsers worked well, I still didn't like the syntax. I <em>really</em> wanted something that felt more like XML, so I decided to fork from ANTLR to create ANTXR (pronounced &quot;ant-zer&quot;). ANTXR has most of the syntax I really want. (I removed the above support from ANTLR itself.)</p>
<p>The following is a <em>real</em> (though not terribly useful) ANTXR grammar, demonstrating most of the features of ANTXR:</p>
<pre><code>01  header {
02  package com.javadude.antxr.sample;
03  	import java.util.Hashtable;
04  	import java.io.PrintWriter;
05  	import java.io.FileWriter;
06  }
07  
08  class NoteParser1 extends Parser;
09  
10  options {
11  	xmlns=&quot;http://www.w3schools.com&quot;;
12  	xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;;
13  }
14 
15  document returns [String text=&quot;&quot;]
16  	:	text=&lt;note&gt; EOF
17  	;
18
19  &lt;note&gt; returns [String text=&quot;&quot;]
20  	:	{
21  			String t=null, f=null, h=null, b=null;
22  			text += &quot;xsi:schemaLocation = &quot; + 
23  			@xsi:schemaLocation + &quot;\n&quot;;
24  		}
25  		t=&lt;to&gt;
26  		f=&lt;from&gt;
27  		h=&lt;heading&gt;
28  		b=&lt;body&gt;
29  		{
30  			text += &quot;Note id: &quot; + @id + &quot;\n&quot;;
31  			text += &quot;To: &quot; + t + &quot;\n&quot;;
32  			text += &quot;From: &quot; + f + &quot;\n&quot;;
33  			text += &quot;Subject: &quot; + h + &quot;\n&quot;;
34  			text += &quot;----\n&quot;;
35  			text += b;
36  		}
37  ;
38  
39  
40  &lt;to&gt; returns [String value=&quot;&quot;]
41  	:	{value = @name;}
42  	;
43  
44  &lt;from&gt; returns [String value=&quot;&quot;]
45  	:	{value = @name;}
46  	;
47  
48  &lt;heading&gt; returns [String value=&quot;&quot;]
49  	:	:PCDATA {value = pcData.getText();}
50  	;
51  
52  &lt;body&gt; returns [String value=&quot;&quot;]
53  	:	pcData:PCDATA {value = pcData.getText();}
54  	;
</code></pre>
<p>Let's walk through some of this example. Most of it is normal ANTLR syntax, with the following modifications:</p>
<ul>
<li><strong>lines 11-12</strong>: A much more natural namespace specification. (Well, XML namespace specifications are anything <em>but</em> natural, but this is as natural as XML itself...).</li>
<li><strong>line 16</strong>: XML rules are referenced using <ruleName> syntax. Behind the scenes this becomes a call to __xml_ruleName().</li>
<li><strong>line 19</strong>: Declaring the <note> rule does the following:
<ul>
<li>Changes the method name to __xml_note()</li>
<li>Automatically adds a reference to the <note> token at the beginning of the rule</li>
<li>Automatically adds a reference to the XML_END_TAG token at the end of the rule</li>
<li>Assigns a variable to refer to the <note> tag so attribute references can see it.</li>
</ul>
</li>
<li><strong>lines 23, 30, 41, 45</strong>: Attributes are referenced using @attributeName syntax. Attributes are retrieved from the start tag corresponding to the rule in which they appear. For example, the @name referred to in the <from> rule will retrieve the name attribute of the <from> tag that was matched in the XML input.</li>
<li><strong>lines 49, 53</strong>: PCDATA is a pre-defined token that represents parsed character data inside a tag. Its position corresponds to which PCDATA chunk you want to read from the tag. (Other tags can appear between PCDATA tags.)</li>
</ul>
<h1 id="Writing_Your_XML_Parser">Writing Your XML Parser</h1>
<p>So now we come to the &quot;how to I write an XML parser using ANTLR&quot; stuff; the stuff that you actually care about and are now wondering why you just read all of the above stuff that doesn't get you any closer to having a working XML parser...</p>
<h1 id="Scanning_XML">Scanning XML</h1>
<p>The first thing you need to know about writing an ANTXR parser is how the XML file is read and tokenized. There are two basic approaches here:</p>
<ul>
<li><strong>SAX-Based</strong>: A SAX parser (such as Xerces or Crimson) reads the XML file, and a simple SAX handler creates ANTXR tokens for each tag and PCDATA found. These tokens are <em>pushed</em> into a queue where they wait to be <em>pulled</em> by an ANTXR-generated parser. This is a push-pull parser, requiring two threads to perform the overall parsing and a synchronization point (the blocking queue).<br>
 </li>
<li><strong>XMLPULL-Based</strong>: An XMLPULL parser (such as kxml or StAX) waits to scan the XML file until the ANTXR-generated parser asks for a token. When a token is asked for, the XMLPULL parser scans for the next tag or PCDATA in the XML file, creates an ANTXR token and returns it. This is a pull parser, requiring only one thread to perform the overall parse.</li>
</ul>
<p>Each of these has benefits and drawbacks.</p>
<p>The most obvious difference is <em><strong>performance</strong></em>. The XMLPULL-based parser generally performs slightly better (assuming a reasonable XMLPULL implementation is used for the scanner.) This is due to thread synchronization.</p>
<p><strong><em>Executable size</em></strong> is another difference, and this can depend on the runtime environment. The Java Runtime Environment includes the Crimson XML parser (SAX-based), which means you don't need any jars other than the runtime jar and the ANTXR jar for your parser. However, some XMLPULL parsers like kxml are <em>very</em> small (only a few kilobytes) so this isn't much of an issue.</p>
<p><strong><em>Validation</em></strong> is another difference. All of the SAX and XMLPULL based parsers will at least ensure the XML being parsed is well-formed. This allows ANTXR to be a little more efficient with regard to end tags, as all end tags can be represented by a common token type. However, if you want more than well-formedness checking, you need to examine which parser you want to use. For example:</p>
<ul>
<li>Xerces SAX supports DTD and schema-based validation</li>
<li>Crimson SAX (present in the JRE) supports only DTD-based validation</li>
<li>kxml XMLPULL supports only DTD-based validation</li>
</ul>
<p> I strongly recommend that you do any desired validation with the SAX or XMLPULL validator, and keep your ANTXR parser simple, just recognizing and performing actions on the XML file.</p>
<h1 id="A_skeletal_XML_grammar">A skeletal XML grammar</h1>
<p>Here's a simple skeleton for an XML parser written in ANTXR.</p>
<pre><code>header {
	package your.packagename;
	// any necessary import statements
}

class YourParserName extends Parser;

options {
	xmlns=&quot;http://your.default.namespace/uri&quot;;
	xmlns:somePrefix=&quot;http://some.namespace/uri&quot;;
}

document
	:	&lt;sampleRootTag&gt; EOF
	;

&lt;sampleRootTag&gt;
	:	&lt;sampleTagWithAttributes&gt;
	|	&lt;sampleTagWithPCDATA&gt;
	;

&lt;sampleTagWithAttributes&gt;
	:	{ System.out.println(@name); }
	;

&lt;sampleTagWithPCDATA&gt;
	:	pcData:PCDATA { System.out.println(pcData.getText()); }
	;
</code></pre>
<p>This skeleton shows all you need to know to write a simple XML parser in ANTLR.</p>
<h2 id="The_Ground_Rules">The Ground Rules</h2>
<p>First, we should establish some ground rules:</p>
<ul>
<li>Each tag in your XML file is represented by one rule in the grammar. You can have additional rules to help organize things, but in order to take advantage of the shortcuts, you must define a top-level ANTXR rule for each tag in your grammar file.</li>
<li>We assume that if you want to validate the XML, you're using the validation options of the SAX or XMLPULL parser you're using. You <em>could</em> do all the validation yourself in the grammar file, but that would be much more difficult than specifying an XML schema or DTD for the validation.</li>
<li>We assume you're familiar with XML, so when we say things like &quot;namespace&quot;, you know what it means.</li>
</ul>
<p>Ok, fair enough. Let's create a real XML parser in ANTXR.</p>
<h2 id="A_Simple_XML_Parser">A Simple XML Parser</h2>
<p>First, let's look at a chunk of XML that we can parse:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
	&lt;people&gt;
		&lt;person ssn=&quot;111-11-1111&quot;&gt;
		&lt;firstName&gt;Terence&lt;/firstName&gt;
		&lt;lastName&gt;Parr&lt;/lastName&gt;
	&lt;/person&gt;
	&lt;person ssn=&quot;222-22-2222&quot;&gt;
		&lt;firstName&gt;Scott&lt;/firstName&gt;
		&lt;lastName&gt;Stanchfield&lt;/lastName&gt;
	&lt;/person&gt;
	&lt;person ssn=&quot;333-33-3333&quot;&gt;
		&lt;firstName&gt;James&lt;/firstName&gt;
		&lt;lastName&gt;Stewart&lt;/lastName&gt;
	&lt;/person&gt;
&lt;/people&gt;
</code></pre>
<p>This file defines a set of people we might want to deal with. They're all nice folks, albeit one of them is unfortunately dead, but we like them and want to interact with them. (It's <em>my</em> tutorial, so deal with it...)</p>
<p>Anyway, we can define some rules for this example. Note that the xml file doesn't use namespaces, so we don't need to define any in the grammar.</p>
<pre><code>header {
	package com.javadude.antlr.sample.xml;
}

class PeopleParser extends Parser;

document
	:	&lt;people&gt; EOF
	;

&lt;people&gt;
	:	(&lt;person&gt;)*
	;

&lt;person&gt; 
	:	(	&lt;firstName&gt;
		|	&lt;lastName&gt;
		)*
	;

&lt;firstName&gt;
	:	PCDATA
	;

&lt;lastName&gt;
	:	PCDATA
	;
</code></pre>
<p>This is a complete ANTXR grammar to <em>recognize</em> the people example. Note that the (...)* constructs used <em>do not</em> enforce order or cardinality! That's the job of the XML schema or DTD. The easiest way to write these in ANTXR is to simply use ANTLR's (...)* to represent &quot;stuff that can appear inside this tag&quot;. If you're not familiar with ANTLR syntax, please see <a href="http://javadude.com/articles/antlrtut">An Antlr Tutorial</a> (<a href="http://javadude.com/articles/antlrtut">http://javadude.com/articles/antlrtut</a>).</p>
<p>As a quick refresher:</p>
<p>(...)*</p>
<p>Zero or more of the enclosed symbols</p>
<p>(...)+</p>
<p>One or more of the enclosed symbols</p>
<p>(...)?</p>
<p>The enclosed symbol is optional</p>
<p>x | y</p>
<p>Either x or y can appear here</p>
<p>{...}</p>
<p>Action code, code that gets executed at this spot in the rule</p>
<p>To run this grammar, we need some startup code. You can choose between the following scanners (all in package com.javadude.antxr.scanner)</p>
<ul>
<li><strong>XMLTokenStream</strong>: The basic SAX-based XML scanner. You create and configure a SAX parser for your XML input and feed it to the XMLTokenStream. This is highly configurable, but only really necessary if you need extra flexibility.<br>
 </li>
<li><strong>XMLPullTokenStream</strong>: The basic XMLPULL-based XML scanner. You create and configure an XMLPULL parser for your XML input and feed it into the XMLPullTokenStream.<br>
 </li>
<li><strong>BasicCrimsonXMLTokenStream</strong>: An easy to create Crimson-based SAX scanner. You don't need any extra jars (other than antxr.jar). This is useful if you only need to specify:
<ul>
<li>The XML input (as a java.io.Reader)</li>
<li>If you want a namespace-aware parse</li>
<li>If you want DTD validation<br>
 </li>
</ul>
</li>
<li><strong>BasicXercesXMLTokenStream</strong>: An easy to create Xerces-based SAX scanner. You will need the Xerces.jar in your classpath to use this option. This is useful if you only need to specify:
<ul>
<li>The XML input (as a java.io.Reader)</li>
<li>If you want a namespace-aware parse</li>
<li>If you want validation</li>
<li>Whether than validation is DTD or XML Schema based</li>
</ul>
</li>
</ul>
<p>Here's an example:</p>
<pre><code>package com.javadude.antxr.sample;

import java.io.FileReader;
import com.javadude.antxr.scanner.BasicCrimsonXMLTokenStream;

public class PeopleTest {

	public static void main(String[] args) throws Exception {
		// Create our scanner (using a simple SAX parser setup)
		BasicCrimsonXMLTokenStream stream =
			new BasicCrimsonXMLTokenStream(new FileReader(&quot;people.xml&quot;),
		PeopleParser.class, false, false);

		// Create our ANTLR parser
		PeopleParser peopleParser = new PeopleParser(stream);

		// parse the document
		peopleParser.document();
	}
}
</code></pre>
<p>This code can be nearly identical for any ANTXR-based XML parser. For this example, I used a BasicCrimsonXMLTokenStream. For it we specify the XML input (as a Reader), the parser class, false for &quot;not namespace-aware&quot; and false for &quot;no validation&quot;. (Note that well-formedness is still checked).</p>
<p>The above grammar will <em>recognize</em> a person.xml file, but won't really do anything with it. Suppose we want to collect information about the people into Person objects.</p>
<p>Suppose I have the following Person class (a simple JavaBean):</p>
<pre><code>package com.javadude.antlr.sample.xml;

public class Person {
	private String ssn;
	private String firstName;
	private String lastName;

	public String getFirstName() {
		return firstName;
	}

	public void setFirstName(String firstName) {
		this.firstName = firstName;
	}

	public String getLastName() {
		return lastName;
	}

	public void setLastName(String lastName) {
		this.lastName = lastName;
	}

	public String getSsn() {
		return ssn;
	}

	public void setSsn(String ssn) {
		this.ssn = ssn;
	}
}
</code></pre>
<p>I can tweak my grammar to collect information. In this example, we collect data and pass it upwards to the caller.</p>
<pre><code>header {
	package com.javadude.antlr.sample.xml;

	import java.util.List;
	import java.util.ArrayList;
}

class PeopleParser extends Parser;

document returns [List results = null]
	:	results=&lt;people&gt; EOF
	;

&lt;people&gt; returns [List results = new ArrayList()]
	{ Person p; }
	:	(	p=&lt;person&gt;  { results.add(p); }   )*
	;

&lt;person&gt; returns [Person p = new Person()]
	{ String first, last; }
	:	(	first=&lt;firstName&gt;  { p.setFirstName(first); }
		|	last=&lt;lastName&gt;    { p.setLastName(last);   }
		)*
;

&lt;firstName&gt; returns [String value = null]
	:	pcdata:PCDATA { value = pcdata.getText(); }
	;

&lt;lastName&gt; returns [String value = null]
	:	pcdata:PCDATA { value = pcdata.getText(); }
	;
</code></pre>
<p>We now use the grammar to gather information from the XML file, create objects and return them.</p>
<p>Now we can change our calling code to include</p>
<pre><code>List people = peopleParser.document();

for (Iterator i = people.iterator(); i.hasNext();) {
	Person p = (Person)i.next();
	System.out.println(p.getFirstName() + &quot; &quot; + p.getLastName());
}
</code></pre>
<p>And poof! We have XML data converted to Person objects quite easily!</p>
<h3 id="A_More_Complex_Parser">A More Complex Parser</h3>
<p>Here's an example I presented at the Northern Virginia Java Users Group. It's a little more interesting, as it demonstrates a mix of returning values to callers and passing values into called rules. There's no &quot;right way&quot; to do this, but try to think about who needs to know what.</p>
<p>This example creates a simple GUI using an XML specification. There are some points where you really <em>need</em> to pass data down vs. up. For example, a container needs to pass itself down to the layout manager so the layout constraint tags can add their components in the right location.</p>
<p>Note that this is not intended to be a framework for real use; it's a simple example of how powerful ANTXR parsing can be.</p>
<p>First, let's look at the XML we want to parse:</p>
<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;frame&gt;
	&lt;borderLayout&gt;
		&lt;north&gt;
			&lt;panel&gt;
				&lt;borderLayout&gt;
					&lt;west&gt;
						&lt;panel&gt;
							&lt;gridLayout rows=&quot;0&quot; cols=&quot;1&quot;&gt;
								&lt;label text=&quot;Name&quot;/&gt;
								&lt;label text=&quot;Address&quot;/&gt;
							&lt;/gridLayout&gt;
						&lt;/panel&gt;
					&lt;/west&gt;
					&lt;center&gt;
						&lt;panel&gt;
							&lt;gridLayout rows=&quot;0&quot; cols=&quot;1&quot;&gt;
								&lt;textField /&gt;
								&lt;textField /&gt;
							&lt;/gridLayout&gt;
						&lt;/panel&gt;
					&lt;/center&gt;
				&lt;/borderLayout&gt;
			&lt;/panel&gt;
		&lt;/north&gt; 
		&lt;south&gt;
			&lt;panel&gt;
				&lt;flowLayout align=&quot;RIGHT&quot;&gt;
					&lt;button text=&quot;Ok&quot;&gt;
						&lt;printAction&gt;Done!&lt;/printAction&gt;
					&lt;/button&gt;
					&lt;button text=&quot;Cancel&quot;&gt;
						&lt;printAction&gt;Canceled!&lt;/printAction&gt;
					&lt;/button&gt;
				&lt;/flowLayout&gt;
			&lt;/panel&gt;
		&lt;/south&gt;
	&lt;/borderLayout&gt;
&lt;/frame&gt;
</code></pre>
<p>This is a silly little name &amp; address form, with an Ok and Cancel button. We can parse the above XML file with the following ANTXR grammar:</p>
<pre><code>header {
	package com.javadude.antxr.sample;
	import java.awt.*;
	import java.awt.event.*;
	import javax.swing.*;
}

// A sample parser that generates a Java GUI based on an XML specification
class GUIParser extends Parser;

document returns [JFrame f=null] 
	:	f=&lt;frame&gt; EOF
	;

/**
 * Create a JFrame based on a frame tag
 * @return the generated JPanel
 */
&lt;frame&gt; returns [JFrame f=null] 
	{ f = new JFrame(@title); }
	:	layout[f.getContentPane()]
		{
			f.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
			f.pack();
		}
	;

/**
 * Create a JPanel based on a panel tag
 * @return the generated JPanel
 */
&lt;panel&gt; returns [JPanel p=new JPanel()] 
	:	layout[p]
	;

/**
 * Recognizes layout managers
 * @param container the container to which we add the layout manager
 */
layout [Container container]
	:	&lt;borderLayout&gt;[container]
	|	&lt;flowLayout&gt;[container]
	|	&lt;gridLayout&gt;[container]
	;

/**
 * Create BorderLayout for the borderLayout tag
 * @param container the container to which we add the layout manager
 */
&lt;borderLayout&gt; [Container container]
	{ container.setLayout(new BorderLayout()); }
	:	( &lt;north&gt;[container]
		|	&lt;south&gt;[container]
		|	&lt;east&gt;[container]
		|	&lt;west&gt;[container]
		|	&lt;center&gt;[container]
		)*
	;

/**
 * Add the nested component to the container at the &quot;north&quot; position
 * @param container the container to which we add the nested component
 */
&lt;north&gt; [Container container]
	{ Component c; }
	:	c=component {container.add(c, BorderLayout.NORTH); }
	;

/**
 * Add the nested component to the container at the &quot;south&quot; position
 * @param container the container to which we add the nested component
 */
&lt;south&gt; [Container container]
	{ Component c; }
	:	c=component {container.add(c, BorderLayout.SOUTH); }
	;

/**
 * Add the nested component to the container at the &quot;east&quot; position
 * @param container the container to which we add the nested component
 */
&lt;east&gt; [Container container]
	{ Component c; }
	:	c=component {container.add(c, BorderLayout.EAST); }
	;

/**
 * Add the nested component to the container at the &quot;west&quot; position
 * @param container the container to which we add the nested component
 */
&lt;west&gt; [Container container]
	{ Component c; }
	:	c=component {container.add(c, BorderLayout.WEST); }
	;

/**
 * Add the nested component to the container at the &quot;center&quot; position
 * @param container the container to which we add the nested component
 */
&lt;center&gt; [Container container]
	{ Component c; }
	:	c=component {container.add(c, BorderLayout.CENTER); }
	;

/**
 * Create FlowLayout for the flowLayout tag
 * @param container the container to which we add the layout manager
 */
&lt;flowLayout&gt; [Container container]
	{
		int alignment = FlowLayout.CENTER;
		String align = @align;
		if (align != null)
			if (&quot;RIGHT&quot;.equals(align))
				alignment = FlowLayout.RIGHT;
			else if (&quot;LEFT&quot;.equals(align))
				alignment = FlowLayout.LEFT;
			else if (&quot;CENTER&quot;.equals(align))
				alignment = FlowLayout.CENTER;

		container.setLayout(new FlowLayout(alignment));

		Component c;
	}
	:	( c=component {container.add(c);} )*
	;

/**
 * Create GridLayout for the gridLayout tag
 * @param container the container to which we add the layout manager
 */
&lt;gridLayout&gt; [Container container]
	{
		int rows = Integer.parseInt(@rows);
		int cols = Integer.parseInt(@cols);
		container.setLayout(new GridLayout(rows,cols));
		Component c;
	}
	:	(	c=component {container.add(c);} )*
	;

/**
 * Recognize a component
 * @return the component created based on an xml spec
 */
component returns [Component component=null]
	:	component=&lt;button&gt;
	|	component=&lt;label&gt;
	|	component=&lt;textField&gt;
	|	component=&lt;panel&gt;
	;

/**
 * Create a JButton based on a &quot;button&quot; xml tag
 * @return the created JButton
 */
&lt;button&gt; returns [JButton b=new JButton()]
	{ b.setText(@text); }
	:	(&lt;printAction&gt;[b])?
	;

/**
 * Create a JLabel based on a &quot;label&quot; xml tag
 * @return the created JLabel
 */
&lt;label&gt; returns [JLabel l=new JLabel()]
	{ l.setText(@text); }
	: 
	;

/**
 * Create a JTextField based on a &quot;textField&quot; xml tag
 * @return the created JTextField
 */
&lt;textField&gt; returns [JTextField t=new JTextField()]
	{ t.setText(@text); }
	: 
	;

/**
 * Create an ActionListener that prints the data in a &quot;printAction&quot; xml tag
 * @param b the button to which we add the listener
 */
&lt;printAction&gt;[JButton b]
	:	pcData:PCDATA 
		{
			final String value = pcData.getText();
			b.addActionListener(
				new ActionListener() {
					public void actionPerformed(ActionEvent e) {
					System.out.println(value);
				}});
		}
	;   
</code></pre>
<p>Note that this grammar demonstrates several things:</p>
<ul>
<li><strong>Passing data down and up</strong><br>
That things like components are passed back to their caller, which is usually a layout constraint. This allows the layout constraint to decide how to add that component. The container is passed <em>down</em> to the layout constraint. This is much simpler than passing back &quot;north&quot; (or some other representation of a constraint) back to the container rule for it to determine how to add the component.<br>
 </li>
<li>**Use of rules that do not represent tags<br>
**Check out the <strong>component</strong> and <strong>layout</strong> rules. These rules are simply there to make our lives easier, as we can logically represent the contents of a tag via a single rule, and let that new rule be used in more than one place. (For example, <strong>layout</strong> is used in both <strong>panel</strong> and <strong>frame</strong>, and this prevents us from having to specify all of the possible layouts under both <strong>panel</strong> and <strong>frame</strong>.<br>
 </li>
<li><strong>Converting some attribute values to numbers</strong><br>
This is something I'd like to make easier, but for now, you'll have to live with it. Attributes are strings, and if you want them in another form such as ints, you'll need to do the conversion.</li>
</ul>
<h1 id="AnyTags">&quot;Any&quot; Tags</h1>
<p>ANTXR allows use of the &quot;any&quot; tag in XML schema. This feature allows your XML to be extensible, but can make parsing a bit trickier. To use the &quot;any&quot; feature, simply use OTHER_TAG as a token in your grammar and match it with an XML_END_TAG token. For example:</p>
<pre><code>otherTag
	:	OTHER_TAG
		(	otherTag
		|	foo
		|	fee
		|	PCDATA
		)*
		XML_END_TAG
	;
</code></pre>
<p>Anytime the scanner sees an XML tag that you haven't explicitly defined using xmlTag in your grammar, it checks to see if you used OTHER_TAG. If you used OTHER_TAG in your grammar, it will be returned for any tag you didn't explicitly specify. If you didn't use OTHER_TAG in your grammar, you will get a syntax error. I recommend defining the grammar as expicitly as possible, and avoiding OTHER_TAG unless absolutely necessary.</p>
<p>I'm working on some lighter syntax for this.</p>
<h1 id="using-the-antxr-plugin-for-eclipse">Using the ANTXR Plugin for Eclipse</h1>
<p>(I need to write more on this, but this is a quick start. The ANTXR plugin is nearly identical to the ANTLR plugin for eclipse at <a href="http://antlreclipse.sourceforge.net">http://antlreclipse.sourceforge.net</a>. Please read that page for the basic usage. You can download the ANTXR plugin as noted at the top of this page.)</p>
<p>The main differences between the ANTXR plugin and the ANTLR plugin are names:</p>
<ul>
<li>You use the &quot;Toggle ANTXR nature&quot; option instead of &quot;Toggle ANTLR nature&quot;.</li>
<li>You must name your grammars foo.antxr instead of foo.g.</li>
</ul>
<h1 id="Performance">Performance</h1>
<p>I'm working with some testers to try and get a few good performance tests set up. Initial tests have shown the ANTXR approach to be comparable to an equivalent SAX-based implementation (sometimes slightly faster, sometimes slightly slower, but so close we cannot be decisive.) When a full comparison has been completed, I'll post the results.</p>
<h1 id="Future">Future</h1>
<p>The next big thing I want to add to this is the ability to generate an ANTXR grammar from an XML Schema or DTD.</p>
<p>I also want to release a J2ME-friendly version of ANTXR.</p>
    </div><div class="post_comments">
  
  
  
  
</div>




  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    
  
  <div class="search">
    <input type="search" class="search_field form_field" placeholder='Search...' id="find" autocomplete="off" data-scope='post'>
    <label for="find" class="search_label"><svg class="icon">
  <title>search</title>
  <use xlink:href="#search"></use>
</svg>

    </label>
    
    <div class="search_results results"></div>
  </div>

        <div class="author_header">
          <img src="https://www.javadude.com/images/yellow.jpeg" alt="Scott Stanchfield photo">
          <h2>Scott Stanchfield</h2>
        </div>
      <div class="author_bio">
        Developer. Teacher. Tinkerer.<br/>Android and Kotlin rock!<br/>
      </div>
      <a href='https://www.javadude.com/about/' class="button mt-1" role="button" title='Read More'>Read More</a>

    
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://www.javadude.com/post/20250323-android-docs/" class="nav-link" title="Official Android Docs (That I&#39;ve Written)">Official Android Docs (That I've Written)</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-android-class/" class="nav-link" title="My Android class content for Johns Hopkins University">My Android class content for Johns Hopkins University</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-dsl-class/" class="nav-link" title="My Domain-Specific Languages (DSL) class content for Johns Hopkins University">My Domain-Specific Languages (DSL) class content for Johns Hopkins University</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-kotlin-class/" class="nav-link" title="My Kotlin class content">My Kotlin class content</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20190326-android-studio-deadlocks/" class="nav-link" title="Finding a deadlock in Android Studio">Finding a deadlock in Android Studio</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20190203-kotlin01/" class="nav-link" title="From Java to Kotlin - Episode 1 - You&#39;ve Gotta Start Somewhere...">From Java to Kotlin - Episode 1 - You've Gotta Start Somewhere...</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20170628-dsls-and-codegen/" class="nav-link" title="Domain-Specific Languages (DSLs) and Code Generation">Domain-Specific Languages (DSLs) and Code Generation</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20151119-patterns/" class="nav-link" title="Design Patterns Brown-Bag Lectures">Design Patterns Brown-Bag Lectures</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://www.javadude.com/categories/articles/' class="post_tag button button_translucent" title="articles">
          ARTICLES
          <span class="button_tally">13</span>
        </a>
        
        <a href='https://www.javadude.com/categories/videos/' class="post_tag button button_translucent" title="videos">
          VIDEOS
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://www.javadude.com/categories/tools/' class="post_tag button button_translucent" title="tools">
          TOOLS
          <span class="button_tally">8</span>
        </a>
        
        <a href='https://www.javadude.com/categories/class/' class="post_tag button button_translucent" title="class">
          CLASS
          <span class="button_tally">3</span>
        </a>
        
        
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://www.javadude.com/tags/java/' class="post_tag button button_translucent" title="java">
          JAVA
          <span class="button_tally">28</span>
        </a>
        
        <a href='https://www.javadude.com/tags/language/' class="post_tag button button_translucent" title="language">
          LANGUAGE
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://www.javadude.com/tags/design/' class="post_tag button button_translucent" title="design">
          DESIGN
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://www.javadude.com/tags/kotlin/' class="post_tag button button_translucent" title="kotlin">
          KOTLIN
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://www.javadude.com/tags/parsing/' class="post_tag button button_translucent" title="parsing">
          PARSING
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://www.javadude.com/tags/android/' class="post_tag button button_translucent" title="android">
          ANDROID
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://www.javadude.com/tags/dsl/' class="post_tag button button_translucent" title="dsl">
          DSL
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://www.javadude.com/tags/antlr/' class="post_tag button button_translucent" title="antlr">
          ANTLR
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/class/' class="post_tag button button_translucent" title="class">
          CLASS
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/eclipse/' class="post_tag button button_translucent" title="eclipse">
          ECLIPSE
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/beans/' class="post_tag button button_translucent" title="beans">
          BEANS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/patterns/' class="post_tag button button_translucent" title="patterns">
          PATTERNS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/xtext/' class="post_tag button button_translucent" title="xtext">
          XTEXT
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/android-studio/' class="post_tag button button_translucent" title="android studio">
          ANDROID STUDIO
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/code-generation/' class="post_tag button button_translucent" title="code generation">
          CODE GENERATION
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/gradle/' class="post_tag button button_translucent" title="gradle">
          GRADLE
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/index/' class="post_tag button button_translucent" title="index">
          INDEX
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord">
    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18" id="mastodon">
    <path
    fill="#ffffff"
    d="m 15.054695,9.8859583 c -0.22611,1.1632697 -2.02517,2.4363497 -4.09138,2.6830797 -1.0774504,0.12856 -2.1382704,0.24673 -3.2694704,0.19484 -1.84996,-0.0848 -3.30971,-0.44157 -3.30971,-0.44157 0,0.1801 0.0111,0.35157 0.0333,0.51194 0.24051,1.82571 1.81034,1.93508 3.29737,1.98607 1.50088,0.0514 2.8373104,-0.37004 2.8373104,-0.37004 l 0.0617,1.35686 c 0,0 -1.0498104,0.56374 -2.9199404,0.66742 -1.03124,0.0567 -2.3117,-0.0259 -3.80308,-0.42069 -3.23454998,-0.85613 -3.79081998,-4.304 -3.87592998,-7.8024197 -0.026,-1.03871 -0.01,-2.01815 -0.01,-2.83732 0,-3.57732 2.34385998,-4.62587996 2.34385998,-4.62587996 1.18184,-0.54277 3.20976,-0.77101 5.318,-0.7882499985409 h 0.0518 C 9.8267646,0.01719834 11.856025,0.24547834 13.037775,0.78824834 c 0,0 2.34377,1.04855996 2.34377,4.62587996 0,0 0.0294,2.63937 -0.32687,4.47183"/>
 <path
    fill="#000000"
    d="m 12.616925,5.6916583 v 4.3315297 h -1.71607 V 5.8189683 c 0,-0.88624 -0.37289,-1.33607 -1.1187604,-1.33607 -0.82467,0 -1.23799,0.53361 -1.23799,1.58875 v 2.30122 h -1.70594 v -2.30122 c 0,-1.05514 -0.4134,-1.58875 -1.23808,-1.58875 -0.74587,0 -1.11876,0.44983 -1.11876,1.33607 v 4.2042197 h -1.71607 V 5.6916583 c 0,-0.88527 0.22541,-1.58876 0.67817,-2.10922 0.46689,-0.52047 1.07833,-0.78727 1.83735,-0.78727 0.87816,0 1.54317,0.33752 1.98288,1.01267 l 0.42744,0.71655 0.42753,-0.71655 c 0.43961,-0.67515 1.10463,-1.01267 1.9828704,-1.01267 0.75893,0 1.37037,0.2668 1.83735,0.78727 0.45268,0.52046 0.67808,1.22395 0.67808,2.10922"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" id="bluesky" >
    <path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="ko-fi">
    <path fill="#ffffff" d="M4.5,9.8527H32.7947a0,0,0,0,1,0,0v19.225a9.07,9.07,0,0,1-9.07,9.07H13.57a9.07,9.07,0,0,1-9.07-9.07V9.8527A0,0,0,0,1,4.5,9.8527Z"/>
    <path fill="#000000" d="M12.197,25.9493l6.45,6.45,6.45-6.45a8.2,8.2,0,0,0,2.4016-5.798h0a4.5082,4.5082,0,0,0-4.212-4.5459,4.4262,4.4262,0,0,0-4.64,4.4209,4.4261,4.4261,0,0,0-4.64-4.4209,4.5082,4.5082,0,0,0-4.212,4.5459h0A8.2,8.2,0,0,0,12.197,25.9493Z"/>
    <path fill="#ffffff" d="M32.7947,9.8527H35.73a7.77,7.77,0,0,1,0,15.5394H32.7947"/>
  </svg>
  </symbol>
</svg>

<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://www.javadude.com/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="Scott Stanchfield">
    <p>Copyright&nbsp;1998-&nbsp;<span class="year"></span>&nbsp;SCOTT STANCHFIELD. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://www.javadude.com/en/js/bundle.91a9d0f0da58c5acdd5ce35d3bad54e076ed9e5bd70e8601c2d68ec9430e043db3691652dfc22e2cbf23188abd51a3c15dd3c3bdaba83991e7c37b71b127c01d.js" integrity="sha512-kanQ8NpYxazdXONdO61U4HbtnlvXDoYBwtaOyUMOBD2zaRZS38IuLL8jGIq9UaPBXdPDvauoOZHnw3txsSfAHQ==" crossorigin="anonymous"></script>

  <script src="https://www.javadude.com/js/search.min.9d5e38dcb73906849f3712f1758a587e9829a568aa586eae69d7684f6829a46c0084632567291f21ea3ee4a6b14ff0d9e1e6b2a4df73f2e419f4b5e0c30a4f04.js"></script>

  </body>
</html>
