
<!DOCTYPE html>
<html
  lang="en"
  data-figures=""
  
    class="page"
  
  
  >
  <head>
<title>Creating JavaBean Property Editors | javadude.com</title>
<meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta http-equiv="X-UA-Compatible" content="IE=edge">





<meta property="og:locale" content="en" />

<meta property="og:type" content="article">
<meta name="description" content="How and why you should use JavaBean accessor (get/set) methods." />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="">
<meta name="twitter:title" content="Creating JavaBean Property Editors" />
<meta name="twitter:image" content="https://www.javadude.com/post/20000304-property-editors/duke.png"/>
<meta property="og:url" content="https://www.javadude.com/post/20000304-property-editors/" />
<meta property="og:title" content="Creating JavaBean Property Editors" />
<meta property="og:description" content="How and why you should use JavaBean accessor (get/set) methods." />
<meta property="og:image" content="https://www.javadude.com/post/20000304-property-editors/duke.png" />
  <meta name="keywords" content="java,beans,design" />
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "BlogPosting",
      "mainEntityOfPage":"https:\/\/www.javadude.com\/post\/20000304-property-editors\/",
      "name": "javadude.com",
      "headline": "Creating JavaBean Property Editors",
      "description": "How and why you should use JavaBean accessor (get/set) methods.",
      "url": "https:\/\/www.javadude.com\/post\/20000304-property-editors\/",
      "datePublished": "2000-03-04T00:00:00Z",
      "dateModified": "2000-03-04T00:00:00Z",
      "keywords": ["java","beans","design"],
        "articleSection": ["Articles"],
      "author": {
        "@type": "Person",
        "name": "map[name:Scott Stanchfield photo:images\/yellow.jpeg]"
      },
      "image":{
        "@type":"ImageObject",
        "url": "https:\/\/www.javadude.com\/post\/20000304-property-editors\/duke.png"
      },
      "publisher": {
        "@type": "Organization",
        "logo": {
          "@type":"ImageObject",
          "url": "https:\/\/www.javadude.com\/"
        },
        "name": "javadude.com"
      }
    }
  </script>

<link rel="apple-touch-icon" sizes="180x180" href="https://www.javadude.com/icons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.javadude.com/icons/favicon-32x32.png">
<link rel="manifest" href="https://www.javadude.com/icons/site.webmanifest">

<link rel="canonical" href="https://www.javadude.com/post/20000304-property-editors/">



<link rel="preload" href="https://www.javadude.com/css/styles.bc1eb1dd1fc5d14285e0b88a05fef346a89bc5e461c683e5fc57576c7455fe75831ec8ecacec5edfb95ff21decee7759160e705bc419e8e864dcf581963a4140.css" integrity = "sha512-vB6x3R/F0UKF4LiKBf7zRqibxeRhxoPl/FdXbHRV/nWDHsjsrOxe37lf8h3s7ndZFg5wW8QZ6Ohk3PWBljpBQA==" as="style" crossorigin="anonymous">



<link rel="preload" href="https://www.javadude.com/en/js/bundle.91a9d0f0da58c5acdd5ce35d3bad54e076ed9e5bd70e8601c2d68ec9430e043db3691652dfc22e2cbf23188abd51a3c15dd3c3bdaba83991e7c37b71b127c01d.js" as="script" integrity=
"sha512-kanQ8NpYxazdXONdO61U4HbtnlvXDoYBwtaOyUMOBD2zaRZS38IuLL8jGIq9UaPBXdPDvauoOZHnw3txsSfAHQ==" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="https://www.javadude.com/css/styles.bc1eb1dd1fc5d14285e0b88a05fef346a89bc5e461c683e5fc57576c7455fe75831ec8ecacec5edfb95ff21decee7759160e705bc419e8e864dcf581963a4140.css" integrity="sha512-vB6x3R/F0UKF4LiKBf7zRqibxeRhxoPl/FdXbHRV/nWDHsjsrOxe37lf8h3s7ndZFg5wW8QZ6Ohk3PWBljpBQA==" crossorigin="anonymous">

  </head>
  <body
    data-code="10000"
    data-lines="true"
    id="documentTop"
    data-lang="en"
  >

<header class="nav_header" >
  <nav class="nav"><a href='https://www.javadude.com/' class="nav_brand nav_item" title="javadude.com">javadude.com
  <div class="nav_close">
    <div><svg class="icon">
  <title>open-menu</title>
  <use xlink:href="#open-menu"></use>
</svg>
<svg class="icon">
  <title>closeme</title>
  <use xlink:href="#closeme"></use>
</svg>
</div>
  </div>
</a>

    <div class='nav_body nav_body_left'>
      
      
      
        

  <div class="nav_parent">
    <a href="https://www.javadude.com/" class="nav_item" title="Home">Home </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/class" class="nav_item" title="Classes">Classes </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/articles" class="nav_item" title="Articles">Articles </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/videos" class="nav_item" title="Videos">Videos </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/categories/tools" class="nav_item" title="Tools">Tools </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/publications/" class="nav_item" title="Publications">Publications </a>
  </div>
  <div class="nav_parent">
    <a href="https://www.javadude.com/about/" class="nav_item" title="About">About </a>
  </div>
      
<div class='follow'>
  <a href="https://github.com/javadude">
    <svg class="icon">
  <title>github</title>
  <use xlink:href="#github"></use>
</svg>

  </a>
  <a href="https://gitlab.com/javamage">
    <svg class="icon">
  <title>gitlab</title>
  <use xlink:href="#gitlab"></use>
</svg>

  </a>
  <a href="https://www.youtube.com/scottstanchfield">
    <svg class="icon">
  <title>youtube</title>
  <use xlink:href="#youtube"></use>
</svg>

  </a>
  <a href="https://stackoverflow.com/users/12541/scott-stanchfield">
    <svg class="icon">
  <title>stackoverflow</title>
  <use xlink:href="#stackoverflow"></use>
</svg>

  </a>
  <a href="https://www.facebook.com/scott.stanchfield">
    <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

  </a>
    
  <a href="https://www.javadude.com/index.xml">
    <svg class="icon">
  <title>rss</title>
  <use xlink:href="#rss"></use>
</svg>

  </a>
<div class="color_mode">
  <input type="checkbox" class="color_choice" id="mode">
</div>

</div>

    </div>
  </nav>
</header>

    <main>
  
<div class="grid-inverse wrap content">
  <article class="post_content">
    <h1 class="post_title">Creating JavaBean Property Editors</h1>
  <div class="post_meta">
    <span><svg class="icon">
  <title>calendar</title>
  <use xlink:href="#calendar"></use>
</svg>
</span>
    <span class="post_date">
      Mar 4, 2000	  
    </span>
    <span class="post_time"> · 19 min read</span><span>&nbsp;· <a href='https://www.javadude.com/tags/java/' title="java" class="post_tag button button_translucent">java
        </a><a href='https://www.javadude.com/tags/beans/' title="beans" class="post_tag button button_translucent">beans
        </a><a href='https://www.javadude.com/tags/design/' title="design" class="post_tag button button_translucent">design
        </a>
    </span>
    <span class="page_only">&nbsp;·
  <div class="post_share">
    Share on:
    <a href="https://twitter.com/intent/tweet?text=Creating%20JavaBean%20Property%20Editors&url=https%3a%2f%2fwww.javadude.com%2fpost%2f20000304-property-editors%2f&tw_p=tweetbutton" class="twitter" title="Share on Twitter" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>twitter</title>
  <use xlink:href="#twitter"></use>
</svg>

    </a>
    <a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.javadude.com%2fpost%2f20000304-property-editors%2f&t=Creating%20JavaBean%20Property%20Editors" class="facebook" title="Share on Facebook" target="_blank" rel="nofollow">
      <svg class="icon">
  <title>facebook</title>
  <use xlink:href="#facebook"></use>
</svg>

    </a>
    <a href="#linkedinshare" id = "linkedinshare" class="linkedin" title="Share on LinkedIn" rel="nofollow">
      <svg class="icon">
  <title>linkedin</title>
  <use xlink:href="#linkedin"></use>
</svg>

    </a>
    <a href="https://www.javadude.com/post/20000304-property-editors/" title="Copy Link" class="link link_yank">
      <svg class="icon">
  <title>copy</title>
  <use xlink:href="#copy"></use>
</svg>

    </a>
  </div>
  </span>
  </div>

    <div class="post_body"><p>Property editors are a way to make your bean more user-friendly.  Bean builder tools can determine quite a lot about your bean just by looking at it and its corresponding BeanInfo class, but they usually have only very simple methods of editing the properties in the bean.</p>
<p>Many properties can be represented as a String, number or Color, and most Bean design tools have built-in editors for these types.  But if a property is another type of object, you must tell the design tool how to edit it.</p>
<p>The JavaBean spec defines a PropertyEditor interface in the java.beans package.   This interface has several ways of reading and writing information about a property.  This tutorial will walk you though several examples, from very simple String-validation editors to more complex GUIs to define properties.</p>
<p>Unfortunately, the documentation available on property editors is rather sparse.   Until now, that is...</p>
<p>All source code is available for download in zip (Windows) and tar.gz (Unix) formats under #Source Code at the end of the article.</p>
<p>You should be able to use any development environment that supports JavaBeans to work with the code in this article.  Note that all code has been tested under VisualAge for Java 1.0, Visual Cafe for Java 2.1 and the November release of the BeanBox.   VisualAge and VisualCafe both performed as expected.</p>
<p>The BeanBox acts unexpectedly in a few cases.  I have checked with the folks at JavaSoft to see if these are bugs in the BeanBox and they informed me that they are.  The problems noted in BeanBox are:</p>
<ul>
<li>If you provide a non-null return from <code>getAsText()</code> and provide a non-null <code>getCustomPropertyEditor()</code>, the BeanBox gives you no way of accessing the custom property editor GUI.</li>
<li>If you only provide <code>getAsText()</code>, <code>setAsText()</code>, <code>getValue()</code>, <code>setValue()</code> and <code>getJavaInitializationString()</code>, the BeanBox will ignore the property changes.   (It seems like the BeanBox requires PropertyChangeEvents in all cases, which is not required by the way I interpret the JavaBeans spec.)</li>
</ul>
<h2 id="making-life-easier">Making Life Easier</h2>
<p>Before getting into the actual property editors, let's define a convenience &quot;adapter&quot; class for the PropertyEditor interface.  This adapter will provide default behaviors for all the PropertyEditor methods, and we can use it as a convenient superclass for the rest of our property editors.   We'll discuss the methods in this interface as we proceed through the article.</p>
<p>Adapters make life a bit easier for us because we don't have to define all the methods ourselves; we just need to override the ones that we really care about.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="c1">// A simple adapter class for interface java.beans.PropertyEditor</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w"></span><span class="kn">package</span><span class="w"> </span><span class="nn">com.magelang.adapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyEditor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyChangeListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Rectangle</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Graphics</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Component</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PropertyEditorAdapter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">PropertyEditor</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addPropertyChangeListener</span><span class="p">(</span><span class="n">PropertyChangeListener</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removePropertyChangeListener</span><span class="p">(</span><span class="n">PropertyChangeListener</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAsText</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setValue</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w">     </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">paintValue</span><span class="p">(</span><span class="n">Graphics</span><span class="w"> </span><span class="n">gfx</span><span class="p">,</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">box</span><span class="p">)</span><span class="w">  </span><span class="p">{}</span><span class="w">
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w">    </span><span class="nf">getAsText</span><span class="p">()</span><span class="w">                   </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="nf">getCustomEditor</span><span class="p">()</span><span class="w">             </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w">    </span><span class="nf">getJavaInitializationString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w">  </span><span class="nf">getTags</span><span class="p">()</span><span class="w">                     </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w">    </span><span class="nf">getValue</span><span class="p">()</span><span class="w">                    </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w">   </span><span class="nf">supportsCustomEditor</span><span class="p">()</span><span class="w">        </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w">   </span><span class="nf">isPaintable</span><span class="p">()</span><span class="w">                 </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;}</span><span class="w">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Note that the JDK provides a class <code>java.beans.PropertyEditorSupport</code> that is very similar to this adapter (it adds better default support for property change notification and <code>getAsText</code>/<code>setAsText</code>.  I present this simpler adapter so we can avoid talking about property change events until later.  When you're really creating a property editor, you may want to use <code>java.beans.PropertyEditorSupport</code>.</p>
<p>The negative angle to using this approach is that your property editor cannot be directly included in another GUI, such as a Customizer.  If you want to use a property editor as a general bean as well as only a property editor, you can either:</p>
<ul>
<li>Subclass your property editor from some component class (such as <code>Panel</code>) directly, and implement all of the above methods in your property editor, or</li>
<li>Create a wrapper bean for your property editor that is a component, and displays the property editor's GUI (you can get the GUI by calling <code>getCustomEditor()</code> from your wrapper...)</li>
</ul>
<p>Note that if you extend Panel or another GUI component, you don't need to define the <code>addPropertyChangeListener</code> or <code>removePropertyChangeListener</code> methods as they are defined in <code>java.awt.Component</code>.</p>
<p>##Persistence in Bean Builders</p>
<p>It is very likely that once a user has set properties for bean, they'd like to see those properties appear in your property editor the next time they bring up the property sheet.  To provide this capability, property editors can define <code>setValue()</code> and <code>getValue()</code>.  Strictly speaking, you're not require to provide real implementations for these methods.  But if you don't, you may find some annoyed users at your door the day after release...</p>
<p><code>public void setValue(Object value)</code> gives the bean builder a way to tell the property editor the current value of the property being edited.  For many fields this value will initially be null, but as the user edits the properties, the bean builder will store the values and pass them to the property editor when the property sheet is displayed.   The property editor can look at this value <em>but it should not directly modify it</em>!   The property editor should create a new object to hold the value for the property, and return that new object when the bean builder asks for it.</p>
<p><code>public Object getValue()</code> provides a way for a bean builder to ask for the property value it will store with the visual design information.  This value will be kept and passed to <code>setValue()</code> any time the property sheet for the bean instance is opened.  The property editor is responsible for creating an object containing the value for the property, and returning that object.</p>
<h2 id="starting-simple-string-editors">Starting Simple: String Editors</h2>
<p>All Bean design tools will have some way of displaying a text field to get a String property value.  There is no validation done on this text field.</p>
<p>As our first property editor, we'll define a Color editor that has the user type in a color name and verify that the color name is one of the &quot;basic&quot; colors.</p>
<p>String property editors are fairly simple to program.  Interaction between a String property editor and the bean builder works as follows</p>
<ul>
<li>The bean builder tells the property editor the current value of the property by calling the <code>setValue()</code> method</li>
<li>The bean builder asks &quot;what String should be displayed&quot; by calling the <code>getAsText()</code> method.</li>
<li>When the user changes the String value, the bean builder tells the property the new value by calling the <code>setAsText()</code> method.</li>
<li>The bean builder asks for the object value to store for the property by calling the <code>getValue()</code> method.</li>
<li>The bean builder asks for the code that will initialize the property by calling <code>getJavaInitializationString()</code></li>
</ul>
<p>One thing to note here: the bean builder is handling the interaction with the user, and informs the property editor when changes are made.  The property editor does not need to worry about informing anyone of the property being changed.  (This will become an issue when our property editor handles the user interaction and needs to inform the bean builder that the property value has changed.)</p>
<p>Our implementation of this simple property editor looks as follows.  Note that we subclass PropertyEditorAdapter so we only need to define the five methods mentioned above.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.magelang.adapter.PropertyEditorAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="c1">// An overly simple Color editor.  The user types in the textual</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="c1">// name of a color and this class verifies that it is a basic color</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="c1">// name.  If it isn&#39;t, the color is set back to white.</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="c1">//Demonstrates use of the setAsText() and getAsText() methods.</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorEditor1</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">PropertyEditorAdapter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">	</span><span class="c1">// Used to validate the color name</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">	</span><span class="c1">//  (this property is protected to make the second </span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">	</span><span class="c1">//   editor a bit easier...)</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">	</span><span class="kd">protected</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">		</span><span class="s">&#34;white&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;lightGray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;gray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;darkGray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;black&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">		</span><span class="s">&#34;red&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;pink&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;yellow&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;green&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">		</span><span class="s">&#34;magenta&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;cyan&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;blue&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">	</span><span class="c1">// Used to map a color name to a Color object</span><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Color</span><span class="w">  </span><span class="n">colors</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">white</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">lightGray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">gray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">darkGray</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">black</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">red</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">pink</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">orange</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">yellow</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">green</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">magenta</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">cyan</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="w">
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="w">	</span><span class="c1">// The currently-selected color (start with white)</span><span class="w">
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="w">	</span><span class="c1">//Tells the bean builder the name of the current color </span><span class="w">
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAsText</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="w">	</span><span class="c1">// Allows the bean builder to tell the property editor the value</span><span class="w">
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="w">	</span><span class="c1">// that the user has entered</span><span class="w">
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAsText</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="w">		</span><span class="k">for</span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w">
</span></span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="w">			</span><span class="o">!</span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">text</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="o">++</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">44</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="w">	</span><span class="c1">// Tells the bean builder the value for the property</span><span class="w">
</span></span></span><span class="line"><span class="ln">49</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getValue</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">50</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colors</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">51</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">52</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">53</span><span class="cl"><span class="w">	</span><span class="c1">// Allows the bean builder to pass the current property</span><span class="w">
</span></span></span><span class="line"><span class="ln">54</span><span class="cl"><span class="w">	</span><span class="c1">// value to the property editor</span><span class="w">
</span></span></span><span class="line"><span class="ln">55</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setValue</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="w">		</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">58</span><span class="cl"><span class="w">			</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="n">colors</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">colors</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">60</span><span class="cl"><span class="w">					</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="w">					</span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">62</span><span class="cl"><span class="w">				</span><span class="p">}</span><span class="w">   
</span></span></span><span class="line"><span class="ln">63</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">64</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">65</span><span class="cl"><span class="w">	</span><span class="c1">// Get the initialization code for the property</span><span class="w">
</span></span></span><span class="line"><span class="ln">66</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getJavaInitializationString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">67</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&#34;java.awt.Color.&#34;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">68</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">69</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>This property editor converts the passed-in Color value to a String representing the color name, validates that name whenever it is set, and converts it back to a Color object.</p>
<h2 id="using-the-property-editor">Using the Property Editor</h2>
<p>There are two ways you can use property editors:</p>
<ul>
<li>To provide editing capabilities for a specific property in a bean</li>
<li>To provide editing capabilities for all properties of a given type in the bean development environment</li>
</ul>
<p>This article will concentrate on the first use.  A later article will discuss setting up a property editor as the default editor for a given type.</p>
<p>To associate a property editor with a bean property, you need to define a BeanInfo class for the bean.  Of course this means that we need a bean, so let's define a simple Panel subclass that has a &quot;color&quot; property whose implementation is to set/get the Panel's background color. (We will leave the background property intact so operation of this property editor can be compared to normal Color editor operation in the bean builder you are using.)</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Panel</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="c1">// A Simple Panel extension that we&#39;ll use to test our</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="c1">// property editor </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorBean</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Panel</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w">	</span><span class="c1">// note that there is no real &#34;color&#34; field;</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">	</span><span class="c1">// a property can be strictly algorithmic...</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Color</span><span class="w"> </span><span class="nf">getColor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">getBackground</span><span class="p">();}</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setColor</span><span class="p">(</span><span class="n">Color</span><span class="w"> </span><span class="n">color</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">setBackground</span><span class="p">(</span><span class="n">color</span><span class="p">);}</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>The BeanInfo class for this is big and hairy, and discussion of BeanInfo is out of the scope of this article.  (I'd advise you to get a tool, such as VisualAge for Java, that generates the BeanInfo class for you...) The following is the relevant part of the ColorBeanBeanInfo class that sets up the property editor.  The full BeanInfo class (as generated by VisualAge for Java) is available in the source distribution.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="c1">// Relevant parts of the ColorBeanBeanInfo class </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="c1">// Note that exception handling has been removed </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="c1">// and the relevant parts</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="c1">// have been simplified...</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyDescriptor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.SimpleBeanInfo</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.lang.reflect.Method</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">coloredit.ColorEditor1</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorBeanBeanInfo</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">SimpleBeanInfo</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">PropertyDescriptor</span><span class="w"> </span><span class="nf">colorPropertyDescriptor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">		</span><span class="c1">// get the &#34;get&#34; method</span><span class="w">
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">		</span><span class="n">Class</span><span class="w"> </span><span class="n">aGetMethodParameterTypes</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{};</span><span class="w">
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">		</span><span class="n">Method</span><span class="w"> </span><span class="n">aGetMethod</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">			</span><span class="n">getBeanClass</span><span class="p">().</span><span class="na">getMethod</span><span class="p">(</span><span class="s">&#34;getColor&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">				</span><span class="n">aGetMethodParameterTypes</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">		</span><span class="c1">// get the &#34;set&#34; method</span><span class="w">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w">		</span><span class="n">Class</span><span class="w"> </span><span class="n">aSetMethodParameterTypes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="n">Color</span><span class="p">.</span><span class="na">class</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="w">		</span><span class="n">Method</span><span class="w"> </span><span class="n">aSetMethod</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="w">			</span><span class="n">getBeanClass</span><span class="p">().</span><span class="na">getMethod</span><span class="p">(</span><span class="s">&#34;setColor&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="w">				</span><span class="n">aSetMethodParameterTypes</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="w">		</span><span class="c1">// define the property descriptor</span><span class="w">
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="w">		</span><span class="n">PropertyDescriptor</span><span class="w"> </span><span class="n">aDescriptor</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="w">			</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyDescriptor</span><span class="p">(</span><span class="s">&#34;color&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">aGetMethod</span><span class="p">,</span><span class="w"> </span><span class="n">aSetMethod</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="w">		</span><span class="c1">// Set a property editor</span><span class="w">
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="w">		</span><span class="n">aDescriptor</span><span class="p">.</span><span class="na">setPropertyEditorClass</span><span class="p">(</span><span class="n">ColorEditor1</span><span class="p">.</span><span class="na">class</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">aDescriptor</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">PropertyDescriptor</span><span class="o">[]</span><span class="w"> </span><span class="nf">getPropertyDescriptors</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="w">		</span><span class="n">PropertyDescriptor</span><span class="w"> </span><span class="n">aDescriptorList</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="w">			</span><span class="p">{</span><span class="n">colorPropertyDescriptor</span><span class="p">()};</span><span class="w">
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">aDescriptorList</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="w">	</span><span class="c1">// and more BeanInfo stuff...</span><span class="w">
</span></span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>When you use the ColorBean when visually designing a new bean, you can bring up the property sheet for the new instance of the ColorBean.  Initially, the value for &quot;color&quot; will be &quot;white&quot;.  If you change it to one of the valid color names, the change will stick.  If you mistype, the color value becomes &quot;white&quot; again.</p>
<h2 id="making-the-property-editor-a-bit-nicer">Making the Property Editor a Bit Nicer...</h2>
<p>Because we have a (small) finite set of values, a nicer user interface would be to give the user a list of choices.  This is easily accomplished by adding a getTags() method to our color editor.  If getTags() returns a null (which is the default that we defined in PropertyEditorAdapter) the bean builder will just present a TextField to get the value.  If getTags() returns an array of Strings, the bean builder will present a Choice component with those String values.  So we can extend our ColorEditor as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln">1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorEditor2</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ColorEditor1</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="nf">getTags</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colorNames</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>This is possible because we defined colorNames as a protected field (even before we thought of this extension ;)</p>
<p>If we change the ColorBeanBeanInfo definition to use ColorEditor2, the property can now be edited by the user selecting the color choice in the property sheet.</p>
<h2 id="taking-control-of-the-property-edit">Taking Control of the Property Edit</h2>
<p>Up until this point, we've let the bean builder tool handle the interaction with the user.  For simple properties that can be represented by Strings this is perfectly acceptable.  (For example, perhaps you want to have the user type a name and you want to make sure it's a valid word in the Dictionary.  Your property editor could be similar to ColorEdit1, but do a spell-check on the value instead of checking the color.)  For more complex properties, such as Colors, we really want something more, well, colorful...</p>
<p>Let's take a small step toward a better property editor.  We'll present a Choice component with the color names.  This will require the following:</p>
<ul>
<li>We need to create a simple GUI (the Choice component)</li>
<li>We need to tell the bean builder that we provide the GUI</li>
<li>We need to pass the GUI to the bean builder</li>
<li>We need to tell the bean builder when the property has changed</li>
</ul>
<p>Let's look at the last item first: we need to tell the bean builder when the property has changed.  The PropertyEditor interface requires methods addPropertyListener() and removePropertyListener(), which let other classes ask us to inform them when a property changes.  The other class, in this instance, is the bean builder itself.</p>
<p>Let's take our PropertyEditorAdapter and extend it to add the property change notification support we need.  The JDK provides a support class, java.beans.PropertyChangeSupport, that will help us.  All we need is:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">com.magelang.adapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyChangeSupport</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyChangeListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="c1">// A default implementation of PropertyEditor Adapter </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="c1">// that provides support for property listeners. </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="c1">// This will be used for any property editors that </span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="c1">// perform their own interaction with the user to </span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="c1">// change the property value.</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">PropertyEditorChangeAdapter</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">PropertyEditorAdapter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="n">PropertyChangeSupport</span><span class="w"> </span><span class="n">propertyChangeSupport</span><span class="w"> </span><span class="o">=</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w">		</span><span class="k">new</span><span class="w"> </span><span class="n">PropertyChangeSupport</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addPropertyChangeListener</span><span class="p">(</span><span class="n">PropertyChangeListener</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">		</span><span class="n">propertyChangeSupport</span><span class="p">.</span><span class="na">addPropertyChangeListener</span><span class="p">(</span><span class="n">listener</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">removePropertyChangeListener</span><span class="p">(</span><span class="n">PropertyChangeListener</span><span class="w"> </span><span class="n">listener</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">		</span><span class="n">propertyChangeSupport</span><span class="p">.</span><span class="na">removePropertyChangeListener</span><span class="p">(</span><span class="n">listener</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">	</span><span class="kd">protected</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">firePropertyChange</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">oldValue</span><span class="p">,</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="n">newValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">		</span><span class="n">propertyChangeSupport</span><span class="p">.</span><span class="na">firePropertyChange</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="w"> </span><span class="n">oldValue</span><span class="p">,</span><span class="w"> </span><span class="n">newValue</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>We define addPropertyChangeListener() and removePropertyChangeListener() to delegate their tasks to an instance of PropertyChangeSupport. We define an extra &quot;helper&quot; method, firePropertyChange(), to make life a bit easier for our derived property editors.</p>
<p>Now we'll take our original ColorEdit1 and change its superclass to PropertyEditorChangeAdapter.  We'll also change its name to ColorEdit3 to keep things clear.  After a few more changes, our new property editor looks like (changes to ColorEditor1 are in bold):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyChangeListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Choice</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Component</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ItemListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ItemEvent</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.magelang.adapter.PropertyEditorChangeAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="c1">// This color editor will display a custom property editor and</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w"></span><span class="c1">// allow the user to select a color name from a list.</span><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorEditor3</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">PropertyEditorChangeAdapter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ItemListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w">		</span><span class="s">&#34;white&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;lightGray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;gray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;darkGray&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">		</span><span class="s">&#34;black&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;red&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;pink&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;yellow&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">		</span><span class="s">&#34;green&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;magenta&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;cyan&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;blue&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">Color</span><span class="w">  </span><span class="n">colors</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">white</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">lightGray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">gray</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">darkGray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">black</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">red</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">pink</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">orange</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">yellow</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">green</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">magenta</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">cyan</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="w">
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">selected</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="n">Choice</span><span class="w"> </span><span class="n">myGUI</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="w">	
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAsText</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="nf">getCustomEditor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myGUI</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="w">			</span><span class="n">myGUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Choice</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="w">			</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="w">				</span><span class="n">myGUI</span><span class="p">.</span><span class="na">addItem</span><span class="p">(</span><span class="n">colorNames</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="w">			</span><span class="n">myGUI</span><span class="p">.</span><span class="na">addItemListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w">   
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">myGUI</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">44</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getJavaInitializationString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&#34;java.awt.Color.&#34;</span><span class="o">+</span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getValue</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">49</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colors</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">50</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">51</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">52</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">itemStateChanged</span><span class="p">(</span><span class="n">ItemEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">53</span><span class="cl"><span class="w">		</span><span class="n">setAsText</span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getItem</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="ln">54</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">55</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAsText</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="w">		</span><span class="n">Object</span><span class="w"> </span><span class="n">oldValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getValue</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="ln">58</span><span class="cl"><span class="w">		</span><span class="k">for</span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w">
</span></span></span><span class="line"><span class="ln">60</span><span class="cl"><span class="w">			</span><span class="o">!</span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">text</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="o">++</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">62</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">63</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">64</span><span class="cl"><span class="w">		</span><span class="n">Object</span><span class="w"> </span><span class="n">newValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getValue</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="ln">65</span><span class="cl"><span class="w">		</span><span class="n">firePropertyChange</span><span class="p">(</span><span class="n">oldValue</span><span class="p">,</span><span class="w"> </span><span class="n">newValue</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">66</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">67</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">68</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setValue</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">69</span><span class="cl"><span class="w">		</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">70</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">71</span><span class="cl"><span class="w">			</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">72</span><span class="cl"><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">colors</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">73</span><span class="cl"><span class="w">					</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">74</span><span class="cl"><span class="w">					</span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">75</span><span class="cl"><span class="w">				</span><span class="p">}</span><span class="w">   
</span></span></span><span class="line"><span class="ln">76</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">77</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">78</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">supportsCustomEditor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">79</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">80</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">81</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>So what is it doing now?</p>
<p>First, we define supportsCustomEditor() to return true (recall that the default implementation in PropertyEditorAdapter returns false).   This method tells the bean builder that our property editor will have its own GUI.   The bean builder will then call getCustomEditor() to retrieve our GUI component that does the editing.  The bean builder will display this component in a dialog.</p>
<p>Our implementation of getCustomEditor() defines our simple GUI: a Choice component that is loaded with the color names.   To make this component useful, we need to register an ItemListener with it.  Because some of the bean design tools do not yet support inner classes (such as VisualAge for Java), we've made the property editor an ItemListener to catch the ItemEvent.  The action we perform when the item changes is to just set the text value in our property editor.</p>
<p>The last change we made was to fire a PropertyChangeEvent when the text value of the property changes.  This is accomplished by adding the firePropertyChange call to setTextValue().  firePropertyChange() checks to see if the old and new values are different, and, if so, fires off a PropertyChangeEvent to all PropertyChangeListeners (which in this case is only the bean builder.)</p>
<p>If you use this ColorEditor in a bean builder, many builder will show a small &quot;...&quot; button with the property in the property sheet.  Clicking this button will bring up a dialog with our Choice component in it.</p>
<h2 id="a-more-natural-interface">A More Natural Interface</h2>
<p>The interface still leaves something to be desired.  What does &quot;cyan&quot; look like?  Why don't we provide some buttons with the colors as their background?   (Note: there are some versions of the JDK that have a bug in AWT's Button class that does not paint the background color of the Button.  The current version of VisualAge for Java contains this AWT bug.)</p>
<p>The interface between the property editor and the bean builder remains <em>exactly the same</em>.  All we are doing is changing our GUI a bit.  Differences between this editor and ColorEditor3 are in bold.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln"> 1</span><span class="cl"><span class="kn">package</span><span class="w"> </span><span class="nn">coloredit</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 2</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln"> 3</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.beans.PropertyChangeListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 4</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.GridLayout</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 5</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Panel</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 6</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Button</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 7</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Component</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 8</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Color</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln"> 9</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionListener</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">10</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">11</span><span class="cl"><span class="w"></span><span class="kn">import</span><span class="w"> </span><span class="nn">com.magelang.adapter.PropertyEditorChangeAdapter</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">12</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">13</span><span class="cl"><span class="w"></span><span class="c1">// This color editor will display a custom property editor</span><span class="w">
</span></span></span><span class="line"><span class="ln">14</span><span class="cl"><span class="w"></span><span class="c1">// and allow the user to select a color button.</span><span class="w">
</span></span></span><span class="line"><span class="ln">15</span><span class="cl"><span class="w"></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ColorEditor4</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">PropertyEditorChangeAdapter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ActionListener</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">16</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">17</span><span class="cl"><span class="w">		</span><span class="s">&#34;white&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;lightGray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;gray&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;darkGray&#34;</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">18</span><span class="cl"><span class="w">		</span><span class="s">&#34;black&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;red&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;pink&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;orange&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;yellow&#34;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">19</span><span class="cl"><span class="w">		</span><span class="s">&#34;green&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;magenta&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;cyan&#34;</span><span class="p">,</span><span class="w"> </span><span class="s">&#34;blue&#34;</span><span class="w">
</span></span></span><span class="line"><span class="ln">20</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">21</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w">   </span><span class="kd">static</span><span class="w"> </span><span class="n">Color</span><span class="w">  </span><span class="n">colors</span><span class="o">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">22</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">white</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">lightGray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">gray</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="ln">23</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">darkGray</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">black</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">red</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">24</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">pink</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">orange</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">yellow</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">25</span><span class="cl"><span class="w">		</span><span class="n">Color</span><span class="p">.</span><span class="na">green</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">magenta</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">cyan</span><span class="p">,</span><span class="w"> </span><span class="n">Color</span><span class="p">.</span><span class="na">blue</span><span class="w">
</span></span></span><span class="line"><span class="ln">26</span><span class="cl"><span class="w">	</span><span class="p">};</span><span class="w">
</span></span></span><span class="line"><span class="ln">27</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">selected</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">28</span><span class="cl"><span class="w">	</span><span class="kd">private</span><span class="w"> </span><span class="n">Panel</span><span class="w"> </span><span class="n">myGUI</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">29</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">30</span><span class="cl"><span class="w">		</span><span class="n">setAsText</span><span class="p">(((</span><span class="n">Button</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="na">getSource</span><span class="p">()).</span><span class="na">getLabel</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="ln">31</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">32</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">33</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getAsText</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">34</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">35</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">36</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">37</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Component</span><span class="w"> </span><span class="nf">getCustomEditor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">38</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">myGUI</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">39</span><span class="cl"><span class="w">			</span><span class="n">myGUI</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Panel</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">GridLayout</span><span class="p">(</span><span class="n">0</span><span class="p">,</span><span class="n">2</span><span class="p">));</span><span class="w">
</span></span></span><span class="line"><span class="ln">40</span><span class="cl"><span class="w">			</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">41</span><span class="cl"><span class="w">				</span><span class="n">Button</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Button</span><span class="p">(</span><span class="n">colorNames</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">42</span><span class="cl"><span class="w">				</span><span class="n">b</span><span class="p">.</span><span class="na">setBackground</span><span class="p">(</span><span class="n">colors</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">43</span><span class="cl"><span class="w">				</span><span class="n">b</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">this</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">44</span><span class="cl"><span class="w">				</span><span class="n">myGUI</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">b</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">45</span><span class="cl"><span class="w">			</span><span class="p">}</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">46</span><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w">   
</span></span></span><span class="line"><span class="ln">47</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">myGUI</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">48</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">49</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">50</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getJavaInitializationString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">51</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="s">&#34;java.awt.Color.&#34;</span><span class="o">+</span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w"> 
</span></span></span><span class="line"><span class="ln">52</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">53</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">54</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">getValue</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">55</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="n">colors</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">56</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">57</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">58</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setAsText</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">text</span><span class="p">)</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">IllegalArgumentException</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">59</span><span class="cl"><span class="w">		</span><span class="n">Object</span><span class="w"> </span><span class="n">oldValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getValue</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="ln">60</span><span class="cl"><span class="w">		</span><span class="k">for</span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">61</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w">
</span></span></span><span class="line"><span class="ln">62</span><span class="cl"><span class="w">			</span><span class="o">!</span><span class="n">colorNames</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">text</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">63</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="o">++</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">64</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">selected</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">colorNames</span><span class="p">.</span><span class="na">length</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">65</span><span class="cl"><span class="w">			</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">66</span><span class="cl"><span class="w">		</span><span class="n">Object</span><span class="w"> </span><span class="n">newValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">getValue</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="ln">67</span><span class="cl"><span class="w">		</span><span class="n">firePropertyChange</span><span class="p">(</span><span class="n">oldValue</span><span class="p">,</span><span class="w"> </span><span class="n">newValue</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">68</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">69</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">70</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setValue</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">71</span><span class="cl"><span class="w">		</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">72</span><span class="cl"><span class="w">		</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">73</span><span class="cl"><span class="w">			</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="n">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">colors</span><span class="p">.</span><span class="na">length</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="ln">74</span><span class="cl"><span class="w">				</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">colors</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">75</span><span class="cl"><span class="w">					</span><span class="n">selected</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">76</span><span class="cl"><span class="w">					</span><span class="k">break</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">77</span><span class="cl"><span class="w">				</span><span class="p">}</span><span class="w">   
</span></span></span><span class="line"><span class="ln">78</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">79</span><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="ln">80</span><span class="cl"><span class="w">	</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">supportsCustomEditor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">81</span><span class="cl"><span class="w">		</span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">82</span><span class="cl"><span class="w">	</span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="ln">83</span><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">  
</span></span></span></code></pre></div><p>All we have changed is the appearance of the GUI (and how we respond to events.)   If you are careful with how you interact with the bean builder, you can change the appearance of the GUI with very little effort.  In this case, our GUI is now a Panel with a 2-column grid of Buttons. Each Button has the color name and (unless the AWT background color bug is present) the color that will be selected.   When pressed, the color value is set.</p>
<h2 id="the-final-touch">The Final Touch</h2>
<p>But what about that textual color name in the property sheet?  Shouldn't that appear as a color as well?  It can!</p>
<p>To make this possible, we need to drop the getAsText() method and implement the isPaintable() and paintValue() methods.  Instead of passing a text value for the property back to the bean builder, we're telling it that we can paint a value for the property, and providing a method to do that painting.  Our changes to the class are very simple:</p>
<ul>
<li>remove the getAsText() method*   add two imports:Figure 9: Imports to add</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln">1</span><span class="cl"><span class="w">		</span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Graphics</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">		</span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.Rectangle</span><span class="p">;</span><span class="w"> 
</span></span></span></code></pre></div><ul>
<li>add an isPaintable() method (recall that the default defined in PropertyEditorAdapter returned false):</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln">1</span><span class="cl"><span class="w">		</span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">isPaintable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;}</span><span class="w">
</span></span></span></code></pre></div><ul>
<li>add a paintValue() method:Figure 11: paintValue() method</li>
</ul>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-java" data-lang="java"><span class="line"><span class="ln">1</span><span class="cl"><span class="w">		</span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">paintValue</span><span class="p">(</span><span class="n">Graphics</span><span class="w"> </span><span class="n">gfx</span><span class="p">,</span><span class="w"> </span><span class="n">Rectangle</span><span class="w"> </span><span class="n">box</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="ln">2</span><span class="cl"><span class="w">			</span><span class="n">gfx</span><span class="p">.</span><span class="na">setColor</span><span class="p">(</span><span class="n">colors</span><span class="o">[</span><span class="n">selected</span><span class="o">]</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">3</span><span class="cl"><span class="w">			</span><span class="c1">// we use three 3-d rects to over-emphasize the 3-d effect</span><span class="w">
</span></span></span><span class="line"><span class="ln">4</span><span class="cl"><span class="w">			</span><span class="c1">// (this way you can be sure this editor is working...)</span><span class="w">
</span></span></span><span class="line"><span class="ln">5</span><span class="cl"><span class="w">			</span><span class="n">gfx</span><span class="p">.</span><span class="na">fill3DRect</span><span class="p">(</span><span class="n">box</span><span class="p">.</span><span class="na">x</span><span class="o">+</span><span class="n">2</span><span class="p">,</span><span class="n">box</span><span class="p">.</span><span class="na">y</span><span class="o">+</span><span class="n">2</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">.</span><span class="na">width</span><span class="o">-</span><span class="n">5</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">.</span><span class="na">height</span><span class="o">-</span><span class="n">5</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">6</span><span class="cl"><span class="w">			</span><span class="n">gfx</span><span class="p">.</span><span class="na">fill3DRect</span><span class="p">(</span><span class="n">box</span><span class="p">.</span><span class="na">x</span><span class="o">+</span><span class="n">3</span><span class="p">,</span><span class="n">box</span><span class="p">.</span><span class="na">y</span><span class="o">+</span><span class="n">3</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">.</span><span class="na">width</span><span class="o">-</span><span class="n">7</span><span class="p">,</span><span class="w"> </span><span class="n">boxheight</span><span class="o">-</span><span class="n">7</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">7</span><span class="cl"><span class="w">			</span><span class="n">gfx</span><span class="p">.</span><span class="na">fill3DRect</span><span class="p">(</span><span class="n">box</span><span class="p">.</span><span class="na">x</span><span class="o">+</span><span class="n">4</span><span class="p">,</span><span class="n">box</span><span class="p">.</span><span class="na">y</span><span class="o">+</span><span class="n">4</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">.</span><span class="na">width</span><span class="o">-</span><span class="n">9</span><span class="p">,</span><span class="w"> </span><span class="n">box</span><span class="p">.</span><span class="na">height</span><span class="o">-</span><span class="n">9</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="ln">8</span><span class="cl"><span class="w">		</span><span class="p">}</span><span class="w"> 
</span></span></span></code></pre></div><p>paintValue() is passed a graphics context into which its painting will be done, and a bounding Rectangle that tells us where we are allowed to draw within that graphics context.  <em>Make sure you respect that bounding box, or the property sheet graphics could end up looking pretty nasty!</em>  Our implementation for ColorEditor5 draws a raised box in the selected color.</p>
<h2 id="propertyeditorsupport">PropertyEditorSupport</h2>
<p>In this article, we define the PropertyEditorAdapter and PropertyChangeAdapter to help demonstrate how property editors work. The Java class libraries include a class named java.beans.PropertyEditorSupport which provides this base functionality for you. I recommend that when you really implement property editors, you use property editor support.</p>
<h2 id="conclusion">Conclusion</h2>
<p>Property editors are a simple way to make your bean more user friendly.  They can provide simple textual validations, a GUI to assist the modification of the property and graphical representations of the property within the property sheet itself.</p>
<p>If you have any questions on how to get a property editor to work, feel free to email <a href="mailto:scott@javadude.com">Scott Stanchfield</a> or one of the other Magi.</p>
<h2 id="source-code">Source Code</h2>
<p>All of the source code for this article is downloadable.  There are two formats you can choose:</p>
<ul>
<li><a href="/post/20000304-property-editors/propedit.zip">propedit.zip</a> - a Windows-format zip file (note that files are formatted using \r\n for line separators)</li>
<li><a href="/post/20000304-property-editors/propedit.tar.gz">propedit.tar.gz</a> - a unix-format tar/gzip file (files use \n for line separators)</li>
</ul>
<p>Duke, the Java mascot, provided by Sun Microsystems under the New BSD license.</p>
    </div><div class="post_comments">
  
  
  
  
</div>




  </article>
<aside class="sidebar">
  <section class="sidebar_inner">
    <br>
    
  
  <div class="search">
    <input type="search" class="search_field form_field" placeholder='Search...' id="find" autocomplete="off" data-scope='post'>
    <label for="find" class="search_label"><svg class="icon">
  <title>search</title>
  <use xlink:href="#search"></use>
</svg>

    </label>
    
    <div class="search_results results"></div>
  </div>

        <div class="author_header">
          <img src="https://www.javadude.com/images/yellow.jpeg" alt="Scott Stanchfield photo">
          <h2>Scott Stanchfield</h2>
        </div>
      <div class="author_bio">
        Developer. Teacher. Tinkerer.<br/>Android and Kotlin rock!<br/>
      </div>
      <a href='https://www.javadude.com/about/' class="button mt-1" role="button" title='Read More'>Read More</a>

    
    <h2 class="mt-4">Recent Posts</h2>
    <ul class="flex-column">
      <li>
        <a href="https://www.javadude.com/post/20250323-android-docs/" class="nav-link" title="Official Android Docs (That I&#39;ve Written)">Official Android Docs (That I've Written)</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-android-class/" class="nav-link" title="My Android class content for Johns Hopkins University">My Android class content for Johns Hopkins University</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-dsl-class/" class="nav-link" title="My Domain-Specific Languages (DSL) class content for Johns Hopkins University">My Domain-Specific Languages (DSL) class content for Johns Hopkins University</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20250322-kotlin-class/" class="nav-link" title="My Kotlin class content">My Kotlin class content</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20190326-android-studio-deadlocks/" class="nav-link" title="Finding a deadlock in Android Studio">Finding a deadlock in Android Studio</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20190203-kotlin01/" class="nav-link" title="From Java to Kotlin - Episode 1 - You&#39;ve Gotta Start Somewhere...">From Java to Kotlin - Episode 1 - You've Gotta Start Somewhere...</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20170628-dsls-and-codegen/" class="nav-link" title="Domain-Specific Languages (DSLs) and Code Generation">Domain-Specific Languages (DSLs) and Code Generation</a>
      </li>
      <li>
        <a href="https://www.javadude.com/post/20151119-patterns/" class="nav-link" title="Design Patterns Brown-Bag Lectures">Design Patterns Brown-Bag Lectures</a>
      </li>
    </ul>
    <div>
      <h2 class="mt-4 taxonomy" id="categories-section">Categories</h2>
      <nav class="tags_nav">
        <a href='https://www.javadude.com/categories/articles/' class="post_tag button button_translucent" title="articles">
          ARTICLES
          <span class="button_tally">13</span>
        </a>
        
        <a href='https://www.javadude.com/categories/videos/' class="post_tag button button_translucent" title="videos">
          VIDEOS
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://www.javadude.com/categories/tools/' class="post_tag button button_translucent" title="tools">
          TOOLS
          <span class="button_tally">8</span>
        </a>
        
        <a href='https://www.javadude.com/categories/class/' class="post_tag button button_translucent" title="class">
          CLASS
          <span class="button_tally">3</span>
        </a>
        
        
      </nav>
    </div>
    <div>
      <h2 class="mt-4 taxonomy" id="tags-section">Tags</h2>
      <nav class="tags_nav">
        <a href='https://www.javadude.com/tags/java/' class="post_tag button button_translucent" title="java">
          JAVA
          <span class="button_tally">28</span>
        </a>
        
        <a href='https://www.javadude.com/tags/language/' class="post_tag button button_translucent" title="language">
          LANGUAGE
          <span class="button_tally">12</span>
        </a>
        
        <a href='https://www.javadude.com/tags/design/' class="post_tag button button_translucent" title="design">
          DESIGN
          <span class="button_tally">6</span>
        </a>
        
        <a href='https://www.javadude.com/tags/kotlin/' class="post_tag button button_translucent" title="kotlin">
          KOTLIN
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://www.javadude.com/tags/parsing/' class="post_tag button button_translucent" title="parsing">
          PARSING
          <span class="button_tally">5</span>
        </a>
        
        <a href='https://www.javadude.com/tags/android/' class="post_tag button button_translucent" title="android">
          ANDROID
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://www.javadude.com/tags/dsl/' class="post_tag button button_translucent" title="dsl">
          DSL
          <span class="button_tally">4</span>
        </a>
        
        <a href='https://www.javadude.com/tags/antlr/' class="post_tag button button_translucent" title="antlr">
          ANTLR
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/class/' class="post_tag button button_translucent" title="class">
          CLASS
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/eclipse/' class="post_tag button button_translucent" title="eclipse">
          ECLIPSE
          <span class="button_tally">3</span>
        </a>
        
        <a href='https://www.javadude.com/tags/beans/' class="post_tag button button_translucent" title="beans">
          BEANS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/patterns/' class="post_tag button button_translucent" title="patterns">
          PATTERNS
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/xtext/' class="post_tag button button_translucent" title="xtext">
          XTEXT
          <span class="button_tally">2</span>
        </a>
        
        <a href='https://www.javadude.com/tags/android-studio/' class="post_tag button button_translucent" title="android studio">
          ANDROID STUDIO
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/code-generation/' class="post_tag button button_translucent" title="code generation">
          CODE GENERATION
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/gradle/' class="post_tag button button_translucent" title="gradle">
          GRADLE
          <span class="button_tally">1</span>
        </a>
        
        <a href='https://www.javadude.com/tags/index/' class="post_tag button button_translucent" title="index">
          INDEX
          <span class="button_tally">1</span>
        </a>
        
        
      </nav>
    </div>
  </section>
</aside>

  
</div>
    </main><svg width="0" height="0" class="hidden">
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter">
    <path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68 0 0 1-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043 0-1.924.366-2.643 1.078a3.56 3.56 0 0 0-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846 0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47 0 .929.273 1.705.82 2.388a3.623 3.623 0 0 0 2.115 1.291c-.312.08-.641.118-.979.118-.312 0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652 0 0 0 2.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422 0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139 0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77 0 0 0 1.172-4.892v-.468a7.788 7.788 0 0 0 1.84-1.921 8.142 8.142 0 0 1-2.11.593z"
      ></path>
  </symbol>
  <symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail">
    <path  d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar">
    <path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916 0 100v352c0 33.084 26.916 60 60 60h392c33.084 0 60-26.916 60-60V100c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028 0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028 0 20 8.972 20 20v48z"></path>
    <path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github">
    <path d="M255.968 5.329C114.624 5.329 0 120.401 0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384 0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008 0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992 0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584 0 34.368-.32 62.08-.32 70.496 0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab">
    <path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6 0L12.3 74.8z" />
    <path d="M12.3 74.7L.5 111c-1 3.2 0 6.8 3 8.8l101.6 74-92.5-119z"/>
    <path d="M105 193.7l-38.6-119h-54l92.7 119z"/>
    <path d="M105 193.7l38.7-119H66.4l38.7 119z"/>
    <path d="M105 193.7l38.7-119H198l-93 119z"/>
    <path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/>
    <path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6 0L198 74.8z"/>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss">
    <circle cx="3.429" cy="20.571" r="3.429"></circle>
    <path d="M11.429 24h4.57C15.999 15.179 8.821 8.001 0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"></path>
    <path d="M24 24C24 10.766 13.234 0 0 0v4.571c10.714 0 19.43 8.714 19.43 19.429z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin">
    <path d="M437 0H75C33.648 0 0 33.648 0 75v362c0 41.352 33.648 75 75 75h362c41.352 0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="to-top">
    <path d="M604.501 440.509L325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298 0 36.323s26.223 10.024 36.222 0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221 0 9.999-10.023 9.999-26.298 0-36.323z"></path>
  </symbol>
  <symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly">
    <path d="M504.971 239.029L448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c19.851 0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002 0 0 0 400 320v108c0 19.851-16.149 36-36 36h-44c-13.255 0-24 10.745-24 24s10.745 24 24 24h44c46.318 0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568 0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255 0 24-10.745 24-24S205.255 0 192 0h-44c-46.318 0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568 0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255 0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851 0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002 0 0 0 112 192z"></path>
  </symbol>
  <symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy">
    <path d="M23 2.75A2.75 2.75 0 0 0 20.25 0H8.75A2.75 2.75 0 0 0 6 2.75v13.5A2.75 2.75 0 0 0 8.75 19h11.5A2.75 2.75 0 0 0 23 16.25zM18.25 14.5h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5zm0-3h-7.5a.75.75 0 0 1 0-1.5h7.5a.75.75 0 0 1 0 1.5z"></path>
    <path d="M8.75 20.5a4.255 4.255 0 0 1-4.25-4.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752 0 0 0 1 5.25v16A2.752 2.752 0 0 0 3.75 24h12a2.752 2.752 0 0 0 2.75-2.75v-.75z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme">
    <path d="M284.286 256.002L506.143 34.144c7.811-7.811 7.811-20.475 0-28.285-7.811-7.81-20.475-7.811-28.285 0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285 0-7.81 7.811-7.811 20.475 0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475 0 28.285a19.938 19.938 0 0 0 14.143 5.857 19.94 19.94 0 0 0 14.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475 0-28.285L284.286 256.002z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu">
    <path d="M492 236H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954 0 96s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046 0-20 8.954-20 20s8.954 20 20 20h472c11.046 0 20-8.954 20-20s-8.954-20-20-20z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram">
    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id=youtube>
    <path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow">
    <path d="M21 27v-8h3v11H0V19h3v8h18z"></path><path d="M17.1.2L15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8l13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"></path>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="xing">
    <path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 71 55" id="discord">
    <path d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 18" id="mastodon">
    <path
    fill="#ffffff"
    d="m 15.054695,9.8859583 c -0.22611,1.1632697 -2.02517,2.4363497 -4.09138,2.6830797 -1.0774504,0.12856 -2.1382704,0.24673 -3.2694704,0.19484 -1.84996,-0.0848 -3.30971,-0.44157 -3.30971,-0.44157 0,0.1801 0.0111,0.35157 0.0333,0.51194 0.24051,1.82571 1.81034,1.93508 3.29737,1.98607 1.50088,0.0514 2.8373104,-0.37004 2.8373104,-0.37004 l 0.0617,1.35686 c 0,0 -1.0498104,0.56374 -2.9199404,0.66742 -1.03124,0.0567 -2.3117,-0.0259 -3.80308,-0.42069 -3.23454998,-0.85613 -3.79081998,-4.304 -3.87592998,-7.8024197 -0.026,-1.03871 -0.01,-2.01815 -0.01,-2.83732 0,-3.57732 2.34385998,-4.62587996 2.34385998,-4.62587996 1.18184,-0.54277 3.20976,-0.77101 5.318,-0.7882499985409 h 0.0518 C 9.8267646,0.01719834 11.856025,0.24547834 13.037775,0.78824834 c 0,0 2.34377,1.04855996 2.34377,4.62587996 0,0 0.0294,2.63937 -0.32687,4.47183"/>
 <path
    fill="#000000"
    d="m 12.616925,5.6916583 v 4.3315297 h -1.71607 V 5.8189683 c 0,-0.88624 -0.37289,-1.33607 -1.1187604,-1.33607 -0.82467,0 -1.23799,0.53361 -1.23799,1.58875 v 2.30122 h -1.70594 v -2.30122 c 0,-1.05514 -0.4134,-1.58875 -1.23808,-1.58875 -0.74587,0 -1.11876,0.44983 -1.11876,1.33607 v 4.2042197 h -1.71607 V 5.6916583 c 0,-0.88527 0.22541,-1.58876 0.67817,-2.10922 0.46689,-0.52047 1.07833,-0.78727 1.83735,-0.78727 0.87816,0 1.54317,0.33752 1.98288,1.01267 l 0.42744,0.71655 0.42753,-0.71655 c 0.43961,-0.67515 1.10463,-1.01267 1.9828704,-1.01267 0.75893,0 1.37037,0.2668 1.83735,0.78727 0.45268,0.52046 0.67808,1.22395 0.67808,2.10922"/>
  </symbol>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 530" id="bluesky" >
    <path d="m135.72 44.03c66.496 49.921 138.02 151.14 164.28 205.46 26.262-54.316 97.782-155.54 164.28-205.46 47.98-36.021 125.72-63.892 125.72 24.795 0 17.712-10.155 148.79-16.111 170.07-20.703 73.984-96.144 92.854-163.25 81.433 117.3 19.964 147.14 86.092 82.697 152.22-122.39 125.59-175.91-31.511-189.63-71.766-2.514-7.3797-3.6904-10.832-3.7077-7.8964-0.0174-2.9357-1.1937 0.51669-3.7077 7.8964-13.714 40.255-67.233 197.36-189.63 71.766-64.444-66.128-34.605-132.26 82.697-152.22-67.108 11.421-142.55-7.4491-163.25-81.433-5.9562-21.282-16.111-152.36-16.111-170.07 0-88.687 77.742-60.816 125.72-24.795z"/>
  <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="ko-fi">
    <path fill="#ffffff" d="M4.5,9.8527H32.7947a0,0,0,0,1,0,0v19.225a9.07,9.07,0,0,1-9.07,9.07H13.57a9.07,9.07,0,0,1-9.07-9.07V9.8527A0,0,0,0,1,4.5,9.8527Z"/>
    <path fill="#000000" d="M12.197,25.9493l6.45,6.45,6.45-6.45a8.2,8.2,0,0,0,2.4016-5.798h0a4.5082,4.5082,0,0,0-4.212-4.5459,4.4262,4.4262,0,0,0-4.64,4.4209,4.4261,4.4261,0,0,0-4.64-4.4209,4.5082,4.5082,0,0,0-4.212,4.5459h0A8.2,8.2,0,0,0,12.197,25.9493Z"/>
    <path fill="#ffffff" d="M32.7947,9.8527H35.73a7.77,7.77,0,0,1,0,15.5394H32.7947"/>
  </svg>
  </symbol>
</svg>

<footer class="footer">
  <div class="footer_inner wrap pale">
    <img src='https://www.javadude.com/icons/apple-touch-icon.png' class="icon icon_2 transparent" alt="Scott Stanchfield">
    <p>Copyright&nbsp;1998-&nbsp;<span class="year"></span>&nbsp;SCOTT STANCHFIELD. All Rights Reserved</p><a class="to_top" href="#documentTop">
  <svg class="icon">
  <title>to-top</title>
  <use xlink:href="#to-top"></use>
</svg>

</a>

  </div>
</footer>

<script type="text/javascript" src="https://www.javadude.com/en/js/bundle.91a9d0f0da58c5acdd5ce35d3bad54e076ed9e5bd70e8601c2d68ec9430e043db3691652dfc22e2cbf23188abd51a3c15dd3c3bdaba83991e7c37b71b127c01d.js" integrity="sha512-kanQ8NpYxazdXONdO61U4HbtnlvXDoYBwtaOyUMOBD2zaRZS38IuLL8jGIq9UaPBXdPDvauoOZHnw3txsSfAHQ==" crossorigin="anonymous"></script>

  <script src="https://www.javadude.com/js/search.min.9d5e38dcb73906849f3712f1758a587e9829a568aa586eae69d7684f6829a46c0084632567291f21ea3ee4a6b14ff0d9e1e6b2a4df73f2e419f4b5e0c30a4f04.js"></script>

  </body>
</html>
